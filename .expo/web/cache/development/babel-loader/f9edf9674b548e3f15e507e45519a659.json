{"ast":null,"code":"import _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport * as Permissions from \"expo-permissions\";\nexport var LOCATION = Permissions.LOCATION;\nexport var NOTIFICATIONS = Permissions.NOTIFICATIONS;\nexport var CAMERA = Permissions.CAMERA;\nexport var CAMERA_ROLL = Permissions.CAMERA_ROLL;\nexport var AUDIO_RECORDING = Permissions.AUDIO_RECORDING;\nexport var CONTACTS = Permissions.CONTACTS;\nexport var REMINDERS = Permissions.REMINDERS;\nexport function permissionsRegistration() {\n  var permissionTypeArray = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [];\n  return new Promise(function _callee(resolve, reject) {\n    var permissionStatus, status, i;\n    return _regeneratorRuntime.async(function _callee$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            permissionStatus = [];\n            _context.prev = 1;\n            i = 0;\n\n          case 3:\n            if (!(i < permissionTypeArray.length)) {\n              _context.next = 16;\n              break;\n            }\n\n            _context.next = 6;\n            return _regeneratorRuntime.awrap(Permissions.getAsync(permissionTypeArray[i]));\n\n          case 6:\n            status = _context.sent;\n            status = status.status;\n\n            if (!(status !== \"granted\")) {\n              _context.next = 12;\n              break;\n            }\n\n            _context.next = 11;\n            return _regeneratorRuntime.awrap(Permissions.askAsync(permissionTypeArray[i]));\n\n          case 11:\n            status = _context.sent;\n\n          case 12:\n            permissionStatus.push(status);\n\n          case 13:\n            i++;\n            _context.next = 3;\n            break;\n\n          case 16:\n            resolve(permissionStatus);\n            _context.next = 22;\n            break;\n\n          case 19:\n            _context.prev = 19;\n            _context.t0 = _context[\"catch\"](1);\n            reject(_context.t0);\n\n          case 22:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, null, null, [[1, 19]], Promise);\n  });\n}\nexport function permissionChecking(permissionType) {\n  return new Promise(function (resolve, reject) {\n    Permissions.getAsync(permissionType).then(function (status) {\n      resolve(status.status);\n    }).catch(function (error) {\n      reject(error);\n    });\n  });\n}","map":{"version":3,"sources":["C:/Users/User/Desktop/ZuMei/gogogainUser/src/marslab-library-react-native/utils/system/permission/index.js"],"names":["Permissions","LOCATION","NOTIFICATIONS","CAMERA","CAMERA_ROLL","AUDIO_RECORDING","CONTACTS","REMINDERS","permissionsRegistration","permissionTypeArray","Promise","resolve","reject","permissionStatus","i","length","getAsync","status","askAsync","push","permissionChecking","permissionType","then","catch","error"],"mappings":";AAAA,OAAO,KAAKA,WAAZ,MAA6B,kBAA7B;AAEA,OAAO,IAAMC,QAAQ,GAAGD,WAAW,CAACC,QAA7B;AACP,OAAO,IAAMC,aAAa,GAAGF,WAAW,CAACE,aAAlC;AACP,OAAO,IAAMC,MAAM,GAAGH,WAAW,CAACG,MAA3B;AACP,OAAO,IAAMC,WAAW,GAAGJ,WAAW,CAACI,WAAhC;AACP,OAAO,IAAMC,eAAe,GAAGL,WAAW,CAACK,eAApC;AACP,OAAO,IAAMC,QAAQ,GAAGN,WAAW,CAACM,QAA7B;AACP,OAAO,IAAMC,SAAS,GAAGP,WAAW,CAACO,SAA9B;AAEP,OAAO,SAASC,uBAAT,GAA2D;AAAA,MAA1BC,mBAA0B,uEAAJ,EAAI;AAChE,SAAO,IAAIC,OAAJ,CAAY,iBAAOC,OAAP,EAAgBC,MAAhB;AAAA;AAAA;AAAA;AAAA;AAAA;AACXC,YAAAA,gBADW,GACQ,EADR;AAAA;AAINC,YAAAA,CAJM,GAIF,CAJE;;AAAA;AAAA,kBAICA,CAAC,GAAGL,mBAAmB,CAACM,MAJzB;AAAA;AAAA;AAAA;;AAAA;AAAA,6CAKEf,WAAW,CAACgB,QAAZ,CAAqBP,mBAAmB,CAACK,CAAD,CAAxC,CALF;;AAAA;AAKbG,YAAAA,MALa;AAMbA,YAAAA,MAAM,GAAGA,MAAM,CAACA,MAAhB;;AANa,kBAOTA,MAAM,KAAK,SAPF;AAAA;AAAA;AAAA;;AAAA;AAAA,6CAQIjB,WAAW,CAACkB,QAAZ,CAAqBT,mBAAmB,CAACK,CAAD,CAAxC,CARJ;;AAAA;AAQXG,YAAAA,MARW;;AAAA;AAUbJ,YAAAA,gBAAgB,CAACM,IAAjB,CAAsBF,MAAtB;;AAVa;AAIiCH,YAAAA,CAAC,EAJlC;AAAA;AAAA;;AAAA;AAYfH,YAAAA,OAAO,CAACE,gBAAD,CAAP;AAZe;AAAA;;AAAA;AAAA;AAAA;AAcfD,YAAAA,MAAM,aAAN;;AAde;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,GAAZ,CAAP;AAiBD;AAED,OAAO,SAASQ,kBAAT,CAA4BC,cAA5B,EAA4C;AACjD,SAAO,IAAIX,OAAJ,CAAY,UAACC,OAAD,EAAUC,MAAV,EAAqB;AACtCZ,IAAAA,WAAW,CAACgB,QAAZ,CAAqBK,cAArB,EACGC,IADH,CACQ,UAACL,MAAD,EAAY;AAChBN,MAAAA,OAAO,CAACM,MAAM,CAACA,MAAR,CAAP;AACD,KAHH,EAIGM,KAJH,CAIS,UAACC,KAAD,EAAW;AAChBZ,MAAAA,MAAM,CAACY,KAAD,CAAN;AACD,KANH;AAOD,GARM,CAAP;AASD","sourcesContent":["import * as Permissions from \"expo-permissions\";\r\n\r\nexport const LOCATION = Permissions.LOCATION;\r\nexport const NOTIFICATIONS = Permissions.NOTIFICATIONS;\r\nexport const CAMERA = Permissions.CAMERA;\r\nexport const CAMERA_ROLL = Permissions.CAMERA_ROLL;\r\nexport const AUDIO_RECORDING = Permissions.AUDIO_RECORDING;\r\nexport const CONTACTS = Permissions.CONTACTS;\r\nexport const REMINDERS = Permissions.REMINDERS;\r\n\r\nexport function permissionsRegistration(permissionTypeArray = []) {\r\n  return new Promise(async (resolve, reject) => {\r\n    const permissionStatus = [];\r\n    try {\r\n      let status;\r\n      for (let i = 0; i < permissionTypeArray.length; i++) {\r\n        status = await Permissions.getAsync(permissionTypeArray[i]);\r\n        status = status.status;\r\n        if (status !== \"granted\") {\r\n          status = await Permissions.askAsync(permissionTypeArray[i]);\r\n        }\r\n        permissionStatus.push(status);\r\n      }\r\n      resolve(permissionStatus);\r\n    } catch (error) {\r\n      reject(error);\r\n    }\r\n  });\r\n}\r\n\r\nexport function permissionChecking(permissionType) {\r\n  return new Promise((resolve, reject) => {\r\n    Permissions.getAsync(permissionType)\r\n      .then((status) => {\r\n        resolve(status.status);\r\n      })\r\n      .catch((error) => {\r\n        reject(error);\r\n      });\r\n  });\r\n}\r\n"]},"metadata":{},"sourceType":"module"}