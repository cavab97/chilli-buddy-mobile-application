{"ast":null,"code":"import _classCallCheck from \"@babel/runtime/helpers/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/createClass\";\nimport _inherits from \"@babel/runtime/helpers/inherits\";\nimport _possibleConstructorReturn from \"@babel/runtime/helpers/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime/helpers/getPrototypeOf\";\nvar _jsxFileName = \"C:\\\\Gogogain\\\\Gogogain - User\\\\src\\\\screens\\\\main\\\\MainScreen\\\\index.js\";\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function () { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }\n\nimport React, { Component } from \"react\";\nimport { connect } from \"react-redux\";\nimport MainTemplete from \"@components/templates/Main\";\nimport { Actions } from \"react-native-router-flux\";\nimport { readAllFromDatabase as readAllRoute } from \"@redux/route/action\";\nimport { readFromDatabase as readAdvertisements } from \"@redux/advertisement/action\";\nimport { readInfo as readSettingInfo } from \"@redux/settings/action\";\nimport { listenFromDatabase as listenToRouteTickets, removeListenerFromDatabase as removeListenerFromRouteTickets } from \"@redux/routeTicket/action\";\nimport clone from \"clone\";\n\nvar index = function (_Component) {\n  _inherits(index, _Component);\n\n  var _super = _createSuper(index);\n\n  function index(props) {\n    _classCallCheck(this, index);\n\n    return _super.call(this, props);\n  }\n\n  _createClass(index, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      this.props.listenToRouteTickets();\n      this.props.readAllRoute();\n      this.props.readAdvertisements();\n      this.props.readSettingInfo();\n    }\n  }, {\n    key: \"componentWillUnmount\",\n    value: function componentWillUnmount() {\n      this.props.removeListenerFromRouteTickets();\n    }\n  }, {\n    key: \"onPressCardChallenge\",\n    value: function onPressCardChallenge(id) {\n      Actions.Route({\n        routeId: id\n      });\n    }\n  }, {\n    key: \"onPressAdvertisement\",\n    value: function onPressAdvertisement(id) {\n      Actions.Advertisement({\n        AdvertisementId: id\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this$props = this.props,\n          allRoutes = _this$props.allRoutes,\n          advertisements = _this$props.advertisements,\n          readLoadingRouteTicket = _this$props.readLoadingRouteTicket,\n          readLoadingRoute = _this$props.readLoadingRoute,\n          readLoadingAdvertisement = _this$props.readLoadingAdvertisement,\n          headerImages = _this$props.headerImages,\n          readLoadingHeaderImages = _this$props.readLoadingHeaderImages,\n          readErrorRoute = _this$props.readErrorRoute,\n          readErrorRouteTicket = _this$props.readErrorRouteTicket,\n          readErrorAdvertisement = _this$props.readErrorAdvertisement,\n          readErrorHeaderImages = _this$props.readErrorHeaderImages;\n      var readFail = readErrorRoute || readErrorRouteTicket || readErrorAdvertisement || readErrorHeaderImages;\n      var dataSource = [];\n      var dataSource2 = [];\n\n      var _clone = clone(this.props),\n          routeTickets = _clone.routeTickets;\n\n      routeTickets = routeTickets.filter(function (routeTicket) {\n        return routeTicket.route.ended.boolean === false && routeTicket.route.terminated.at === null;\n      });\n\n      if (routeTickets.length > 0) {\n        dataSource = routeTickets.map(function (_ref) {\n          var route = _ref.route;\n          return {\n            key: route.id,\n            id: route.id,\n            type: route.type,\n            title: route.title,\n            image: require(\"../../../assets/gogogain/RouteMap_FA_Challenge.png\")\n          };\n        });\n      }\n\n      var size = 10;\n      dataSource2 = allRoutes.slice(0, size).map(function (route) {\n        var seatLeft = null;\n        var joined = 0;\n\n        if (route.minimumUser - route.currentUser <= 0) {\n          seatLeft = \"0\";\n        } else {\n          seatLeft = route.minimumUser - route.currentUser;\n        }\n\n        return {\n          key: route.id,\n          id: route.id,\n          totalMission: route.totalMissions,\n          title: route.title,\n          type: route.type,\n          seatLeft: seatLeft,\n          startTime: route.startTime,\n          endTime: route.endTime,\n          image: require(\"../../../assets/gogogain/RouteMap_FA_JoinUs.jpg\"),\n          joined: joined\n        };\n      });\n\n      for (var x = 0; x < dataSource2.length; x++) {\n        for (var y = 0; y < dataSource.length; y++) {\n          if (dataSource2[x].id === dataSource[y].id) dataSource2[x].joined++;\n        }\n      }\n\n      dataSource2 = dataSource2.sort(function (a, b) {\n        return a.joined - b.joined;\n      });\n\n      var noImageHeaderSlider = require(\"../../../assets/gogogain/top_image.jpg\");\n\n      var noImageAdvertisement = require(\"../../../assets/gogogain/pinpng.com-camera-drawing-png-1886718.png\");\n\n      var casualImage = require(\"../../../assets/gogogain/Mascot-C.png\");\n\n      var luxuryImage = require(\"../../../assets/gogogain/Mascot-L.png\");\n\n      return React.createElement(MainTemplete, {\n        readFail: readFail,\n        slider: headerImages,\n        dataSource: dataSource,\n        dataSource2: dataSource2,\n        routeTickets: routeTickets,\n        casualImage: casualImage,\n        luxuryImage: luxuryImage,\n        sectionTitle1: \"Join Now\",\n        sectionTitle2: \"Latest News\",\n        sectionTitle3: \"Your Challenges\",\n        label1: \"Total Mission : \",\n        label2: \"Period : \",\n        unit: \" pax\",\n        onPressCard: this.onPressCardChallenge.bind(this),\n        advertisements: advertisements,\n        onPressAdvertisement: this.onPressAdvertisement.bind(this),\n        noImageAdvertisement: noImageAdvertisement,\n        noImageHeaderSlider: noImageHeaderSlider,\n        readLoadingAdvertisement: readLoadingAdvertisement,\n        readLoadingRoute: readLoadingRoute,\n        readLoadingRouteTicket: readLoadingRouteTicket,\n        readLoadingHeaderImages: readLoadingHeaderImages,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 116,\n          columnNumber: 9\n        }\n      });\n    }\n  }]);\n\n  return index;\n}(Component);\n\nvar mapStateToProps = function mapStateToProps(state) {\n  var routeTickets = state.RouteTicket.userRouteTickets;\n  var allRoutes = state.Route.allRoutes;\n  var advertisements = state.Advertisement.advertisements;\n  var headerImages = state.Settings.info.headerImages;\n  var readLoadingRouteTicket = state.RouteTicket.readLoading;\n  var readLoadingRoute = state.Route.readLoading;\n  var readLoadingAdvertisement = state.Advertisement.readLoading;\n  var readLoadingHeaderImages = state.Settings.readInfoLoading;\n  var readErrorRouteTicket = state.RouteTicket.readError;\n  var readErrorRoute = state.Route.readError;\n  var readErrorAdvertisement = state.Advertisement.readError;\n  var readErrorHeaderImages = state.Settings.readError;\n  return {\n    routeTickets: routeTickets,\n    allRoutes: allRoutes,\n    advertisements: advertisements,\n    headerImages: headerImages,\n    readLoadingHeaderImages: readLoadingHeaderImages,\n    readLoadingRouteTicket: readLoadingRouteTicket,\n    readLoadingRoute: readLoadingRoute,\n    readLoadingAdvertisement: readLoadingAdvertisement,\n    readErrorRoute: readErrorRoute,\n    readErrorRouteTicket: readErrorRouteTicket,\n    readErrorAdvertisement: readErrorAdvertisement,\n    readErrorHeaderImages: readErrorHeaderImages\n  };\n};\n\nexport default connect(mapStateToProps, {\n  listenToRouteTickets: listenToRouteTickets,\n  removeListenerFromRouteTickets: removeListenerFromRouteTickets,\n  readAllRoute: readAllRoute,\n  readAdvertisements: readAdvertisements,\n  readSettingInfo: readSettingInfo\n})(index);","map":{"version":3,"sources":["C:/Gogogain/Gogogain - User/src/screens/main/MainScreen/index.js"],"names":["React","Component","connect","MainTemplete","Actions","readAllFromDatabase","readAllRoute","readFromDatabase","readAdvertisements","readInfo","readSettingInfo","listenFromDatabase","listenToRouteTickets","removeListenerFromDatabase","removeListenerFromRouteTickets","clone","index","props","id","Route","routeId","Advertisement","AdvertisementId","allRoutes","advertisements","readLoadingRouteTicket","readLoadingRoute","readLoadingAdvertisement","headerImages","readLoadingHeaderImages","readErrorRoute","readErrorRouteTicket","readErrorAdvertisement","readErrorHeaderImages","readFail","dataSource","dataSource2","routeTickets","filter","routeTicket","route","ended","boolean","terminated","at","length","map","key","type","title","image","require","size","slice","seatLeft","joined","minimumUser","currentUser","totalMission","totalMissions","startTime","endTime","x","y","sort","a","b","noImageHeaderSlider","noImageAdvertisement","casualImage","luxuryImage","onPressCardChallenge","bind","onPressAdvertisement","mapStateToProps","state","RouteTicket","userRouteTickets","Settings","info","readLoading","readInfoLoading","readError"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport MainTemplete from \"@components/templates/Main\";\r\nimport { Actions } from \"react-native-router-flux\";\r\nimport { readAllFromDatabase as readAllRoute } from \"@redux/route/action\";\r\nimport { readFromDatabase as readAdvertisements } from \"@redux/advertisement/action\";\r\nimport { readInfo as readSettingInfo } from \"@redux/settings/action\";\r\nimport {\r\n  listenFromDatabase as listenToRouteTickets,\r\n  removeListenerFromDatabase as removeListenerFromRouteTickets,\r\n} from \"@redux/routeTicket/action\";\r\n\r\nimport clone from \"clone\"\r\n\r\nclass index extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n  }\r\n\r\n  componentDidMount() {\r\n    this.props.listenToRouteTickets();\r\n    this.props.readAllRoute();\r\n    this.props.readAdvertisements();\r\n    this.props.readSettingInfo();\r\n  }\r\n\r\n  componentWillUnmount() {\r\n    this.props.removeListenerFromRouteTickets();\r\n  }\r\n\r\n  onPressCardChallenge(id) {\r\n    Actions.Route({ routeId: id });\r\n  }\r\n\r\n  onPressAdvertisement(id) {\r\n    Actions.Advertisement({ AdvertisementId: id })\r\n  }\r\n\r\n  render() {\r\n    const {\r\n      allRoutes,\r\n      advertisements,\r\n      readLoadingRouteTicket,\r\n      readLoadingRoute,\r\n      readLoadingAdvertisement,\r\n      headerImages,\r\n      readLoadingHeaderImages,\r\n      readErrorRoute,\r\n      readErrorRouteTicket,\r\n      readErrorAdvertisement,\r\n      readErrorHeaderImages\r\n    } = this.props;\r\n\r\n    const readFail = readErrorRoute || readErrorRouteTicket || readErrorAdvertisement || readErrorHeaderImages;\r\n\r\n    let dataSource = [];\r\n    let dataSource2 = [];\r\n\r\n    let { routeTickets } = clone(this.props);\r\n\r\n    routeTickets = routeTickets.filter((routeTicket)=> routeTicket.route.ended.boolean === false && routeTicket.route.terminated.at === null)\r\n\r\n    if (routeTickets.length > 0) {\r\n      dataSource = routeTickets.map(({ route }) => {\r\n        return {\r\n          key: route.id,\r\n          id: route.id,\r\n          type: route.type,\r\n          title: route.title,\r\n          image: require(\"../../../assets/gogogain/RouteMap_FA_Challenge.png\"),\r\n        };\r\n      });\r\n    }\r\n\r\n    let size = 10;\r\n    dataSource2 = allRoutes.slice(0, size).map((route) => {\r\n      let seatLeft = null;\r\n      let joined = 0;\r\n      if (route.minimumUser - route.currentUser <= 0) {\r\n        seatLeft = \"0\";\r\n      } else {\r\n        seatLeft = route.minimumUser - route.currentUser;\r\n      }\r\n\r\n      return {\r\n        key: route.id,\r\n        id: route.id,\r\n        totalMission: route.totalMissions,\r\n        title: route.title,\r\n        type: route.type,\r\n        seatLeft: seatLeft,\r\n        startTime: route.startTime,\r\n        endTime: route.endTime,\r\n        image: require(\"../../../assets/gogogain/RouteMap_FA_JoinUs.jpg\"),\r\n        joined: joined,\r\n      };\r\n    });\r\n \r\n    for(let x=0; x < dataSource2.length; x++){\r\n      for(let y=0; y < dataSource.length; y++){\r\n        if(dataSource2[x].id === dataSource[y].id)\r\n          dataSource2[x].joined++;\r\n      }\r\n    }\r\n\r\n    dataSource2 = dataSource2.sort((a, b) => {\r\n      return (a.joined) - (b.joined);\r\n    }); \r\n\r\n    const noImageHeaderSlider = require(\"../../../assets/gogogain/top_image.jpg\")\r\n    const noImageAdvertisement = require(\"../../../assets/gogogain/pinpng.com-camera-drawing-png-1886718.png\")\r\n    const casualImage = require(\"../../../assets/gogogain/Mascot-C.png\")\r\n    const luxuryImage = require(\"../../../assets/gogogain/Mascot-L.png\")\r\n\r\n    return (\r\n        <MainTemplete\r\n          readFail={readFail}\r\n          slider={headerImages}\r\n          dataSource={dataSource}\r\n          dataSource2={dataSource2}\r\n          routeTickets={routeTickets}\r\n          casualImage={casualImage}\r\n          luxuryImage={luxuryImage}\r\n          sectionTitle1=\"Join Now\"\r\n          sectionTitle2=\"Latest News\"\r\n          sectionTitle3=\"Your Challenges\"\r\n          label1=\"Total Mission : \"\r\n          label2=\"Period : \"\r\n          unit=\" pax\"\r\n          onPressCard={this.onPressCardChallenge.bind(this)}\r\n          advertisements = {advertisements}\r\n          onPressAdvertisement = {this.onPressAdvertisement.bind(this)}\r\n          noImageAdvertisement= {noImageAdvertisement}\r\n          noImageHeaderSlider = {noImageHeaderSlider}\r\n          readLoadingAdvertisement = {readLoadingAdvertisement}\r\n          readLoadingRoute = {readLoadingRoute}\r\n          readLoadingRouteTicket = {readLoadingRouteTicket}\r\n          readLoadingHeaderImages ={readLoadingHeaderImages}\r\n        />\r\n    );\r\n  }\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n  const routeTickets = state.RouteTicket.userRouteTickets;\r\n  const { allRoutes } = state.Route;\r\n  const { advertisements } = state.Advertisement;\r\n  const { headerImages } = state.Settings.info\r\n\r\n  const readLoadingRouteTicket = state.RouteTicket.readLoading;\r\n  const readLoadingRoute = state.Route.readLoading;\r\n  const readLoadingAdvertisement = state.Advertisement.readLoading;\r\n  const readLoadingHeaderImages = state.Settings.readInfoLoading;\r\n\r\n  const readErrorRouteTicket = state.RouteTicket.readError;\r\n  const readErrorRoute = state.Route.readError;\r\n  const readErrorAdvertisement = state.Advertisement.readError;\r\n  const readErrorHeaderImages = state.Settings.readError;\r\n\r\n  return {\r\n    routeTickets,\r\n    allRoutes,\r\n    advertisements,\r\n    headerImages,\r\n    readLoadingHeaderImages,\r\n    readLoadingRouteTicket,\r\n    readLoadingRoute,\r\n    readLoadingAdvertisement,\r\n    readErrorRoute,\r\n    readErrorRouteTicket,\r\n    readErrorAdvertisement,\r\n    readErrorHeaderImages\r\n  };\r\n};\r\n\r\nexport default connect(mapStateToProps, {\r\n  listenToRouteTickets,\r\n  removeListenerFromRouteTickets,\r\n  readAllRoute,\r\n  readAdvertisements,\r\n  readSettingInfo\r\n})(index);\r\n"]},"metadata":{},"sourceType":"module"}