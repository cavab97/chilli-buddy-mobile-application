{"ast":null,"code":"import _defineProperty from \"@babel/runtime/helpers/defineProperty\";\nimport _classCallCheck from \"@babel/runtime/helpers/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/createClass\";\nimport _assertThisInitialized from \"@babel/runtime/helpers/assertThisInitialized\";\nimport _possibleConstructorReturn from \"@babel/runtime/helpers/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime/helpers/getPrototypeOf\";\nimport _inherits from \"@babel/runtime/helpers/inherits\";\nvar _jsxFileName = \"C:\\\\Users\\\\limwe\\\\Documents\\\\application\\\\gogogain-app\\\\gogogain-user\\\\src\\\\screens\\\\auth\\\\UserForm\\\\index.js\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _createSuper(Derived) { return function () { var Super = _getPrototypeOf(Derived), result; if (_isNativeReflectConstruct()) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }\n\nimport React, { Component } from \"react\";\nimport Keyboard from \"react-native-web/dist/exports/Keyboard\";\nimport Platform from \"react-native-web/dist/exports/Platform\";\nimport { Button, Text, View, ScrollView, TouchableWithoutFeedBack, KeyboardAvoidingView, ModalSelector, Icon, PhoneInput, Input } from \"../../../marslab-library-react-native/components/atoms\";\nimport { Card, CardSection } from \"../../../marslab-library-react-native/components/molecules\";\nimport { Colors } from \"../../../settings/styles/theme\";\nimport { connect } from \"react-redux\";\nimport { update, readFromDatabase, submitToBackend } from \"../../../marslab-library-react-native/redux/user/action\";\nimport { Actions } from \"react-native-router-flux\";\nimport styles from \"./styles\";\nexport var Index = function (_Component) {\n  _inherits(Index, _Component);\n\n  var _super = _createSuper(Index);\n\n  function Index(props) {\n    var _this;\n\n    _classCallCheck(this, Index);\n\n    _this = _super.call(this, props);\n\n    _this.onRecordChange = function (_ref, value) {\n      var key = _ref.key,\n          nestedKey = _ref.nestedKey;\n      var user = _this.props.user;\n\n      _this.setState({\n        user: user\n      });\n\n      if (key && nestedKey) user[key][nestedKey] = value;else if (key) user[key] = value;\n\n      _this.props.update(user);\n    };\n\n    _this.onSelectChange = function (_ref2, value) {\n      var key = _ref2.key,\n          nestedKey = _ref2.nestedKey;\n      var user = _this.props.user;\n\n      _this.setState({\n        user: user\n      });\n\n      if (key && nestedKey) user[key][nestedKey] = value;else if (key) user[key] = value;\n\n      _this.props.update(user);\n    };\n\n    _this.onSubmit = _this.onSubmit.bind(_assertThisInitialized(_this));\n    return _this;\n  }\n\n  _createClass(Index, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      this.props.readFromDatabase();\n    }\n  }, {\n    key: \"onSubmit\",\n    value: function onSubmit() {\n      var user = this.props.user;\n      this.props.submitToBackend(user, \"updateProfile\");\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      var _this$props = this.props,\n          user = _this$props.user,\n          readLoading = _this$props.readLoading,\n          readError = _this$props.readError;\n      var displayName = user.displayName,\n          gender = user.gender,\n          email = user.email,\n          address = user.address,\n          identityNumber = user.identityNumber;\n\n      var countriesList = require(\"../../../assets/address/countries.json\");\n\n      var statesList = require(\"../../../assets/address/Malaysia/states.json\");\n\n      return React.createElement(KeyboardAvoidingView, {\n        behavior: \"padding\",\n        style: {\n          flex: 1\n        },\n        keyboardVerticalOffset: Platform.OS === \"ios\" ? 0 : 100,\n        enabled: true,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 78,\n          columnNumber: 7\n        }\n      }, React.createElement(ScrollView, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 86,\n          columnNumber: 9\n        }\n      }, React.createElement(TouchableWithoutFeedBack, {\n        onPress: Keyboard.dismiss,\n        accessible: false,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 87,\n          columnNumber: 11\n        }\n      }, React.createElement(Card, {\n        style: {\n          marginTop: 20\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 91,\n          columnNumber: 13\n        }\n      }, React.createElement(CardSection, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 92,\n          columnNumber: 15\n        }\n      }, React.createElement(Input, {\n        label: \"Name as Per IC*\",\n        value: displayName,\n        onChangeText: this.onRecordChange.bind(this, {\n          key: \"displayName\"\n        }),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 93,\n          columnNumber: 17\n        }\n      })), React.createElement(CardSection, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 99,\n          columnNumber: 15\n        }\n      }, React.createElement(Input, {\n        label: \"Identity Card Number\",\n        value: identityNumber,\n        onChangeText: this.onRecordChange.bind(this, {\n          key: \"identityNumber\"\n        }),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 100,\n          columnNumber: 17\n        }\n      })), React.createElement(CardSection, {\n        style: {\n          flexDirection: \"column\"\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 106,\n          columnNumber: 15\n        }\n      }, React.createElement(Input, {\n        label: \"Gender\",\n        input: false,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 107,\n          columnNumber: 17\n        }\n      }), React.createElement(View, {\n        style: {\n          marginLeft: 10,\n          flexDirection: \"row\"\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 108,\n          columnNumber: 17\n        }\n      }, React.createElement(Icon, {\n        size: 40,\n        containerStyle: {\n          justifyContent: \"center\",\n          padding: 10\n        },\n        onPress: function onPress() {\n          return _this2.onRecordChange({\n            key: \"gender\"\n          }, \"male\");\n        },\n        color: gender === \"male\" ? Colors.ORANGE_DARK : Colors.GRAY,\n        name: \"male\",\n        type: \"font-awesome\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 109,\n          columnNumber: 19\n        }\n      }), React.createElement(Icon, {\n        size: 40,\n        containerStyle: {\n          justifyContent: \"center\",\n          paddingHorizontal: 10\n        },\n        color: gender === \"female\" ? Colors.ORANGE_DARK : Colors.GRAY,\n        onPress: function onPress() {\n          return _this2.onRecordChange({\n            key: \"gender\"\n          }, \"female\");\n        },\n        name: \"female\",\n        type: \"font-awesome\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 122,\n          columnNumber: 19\n        }\n      }))), React.createElement(CardSection, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 141,\n          columnNumber: 15\n        }\n      }, React.createElement(Input, {\n        label: \"Email*\",\n        value: email,\n        onChangeText: this.onRecordChange.bind(this, {\n          key: \"email\"\n        }),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 142,\n          columnNumber: 17\n        }\n      })), React.createElement(CardSection, {\n        style: {\n          flexDirection: \"column\"\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 149,\n          columnNumber: 15\n        }\n      }, React.createElement(Input, {\n        label: \"Address\",\n        input: false,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 150,\n          columnNumber: 17\n        }\n      }), React.createElement(Input, {\n        label: \"Line 1\",\n        value: address.line1,\n        onChangeText: this.onRecordChange.bind(this, {\n          key: \"address\",\n          nestedKey: \"line1\"\n        }),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 151,\n          columnNumber: 17\n        }\n      })), React.createElement(CardSection, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 158,\n          columnNumber: 15\n        }\n      }, React.createElement(Input, {\n        label: \"Line 2\",\n        value: address.line2,\n        onChangeText: this.onRecordChange.bind(this, {\n          key: \"address\",\n          nestedKey: \"line2\"\n        }),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 159,\n          columnNumber: 17\n        }\n      })), React.createElement(CardSection, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 166,\n          columnNumber: 15\n        }\n      }, React.createElement(View, {\n        style: {\n          width: 100,\n          marginHorizontal: 5\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 167,\n          columnNumber: 17\n        }\n      }, React.createElement(Input, {\n        label: \"Postcode\",\n        value: address.postcode,\n        onChangeText: this.onRecordChange.bind(this, {\n          key: \"address\",\n          nestedKey: \"postcode\"\n        }),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 168,\n          columnNumber: 19\n        }\n      })), React.createElement(View, {\n        style: {\n          width: 125,\n          marginHorizontal: 5\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 175,\n          columnNumber: 17\n        }\n      }, React.createElement(Text, {\n        style: styles.labelStyle,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 176,\n          columnNumber: 19\n        }\n      }, \"States\"), React.createElement(ModalSelector, {\n        style: styles.modal_selector,\n        data: statesList,\n        keyExtractor: function keyExtractor(item) {\n          return item;\n        },\n        labelExtractor: function labelExtractor(item) {\n          return item;\n        },\n        onChange: this.onSelectChange.bind(this, {\n          key: \"address\",\n          nestedKey: \"state\"\n        }),\n        selectedKey: address.state,\n        initValue: \"Select\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 177,\n          columnNumber: 19\n        }\n      })), React.createElement(View, {\n        style: {\n          width: 125,\n          marginHorizontal: 5\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 187,\n          columnNumber: 17\n        }\n      }, React.createElement(Text, {\n        style: styles.labelStyle,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 188,\n          columnNumber: 19\n        }\n      }, \"Country\"), React.createElement(ModalSelector, {\n        style: styles.modal_selector,\n        data: countriesList,\n        keyExtractor: function keyExtractor(item) {\n          return item.country;\n        },\n        labelExtractor: function labelExtractor(item) {\n          return item.country;\n        },\n        onChange: function onChange(value) {\n          return _this2.onSelectChange({\n            key: \"address\",\n            nestedKey: \"country\"\n          }, value.country);\n        },\n        selectedKey: address.country,\n        initValue: \"Select\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 189,\n          columnNumber: 19\n        }\n      }))), React.createElement(CardSection, {\n        style: {\n          marginTop: 10\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 201,\n          columnNumber: 15\n        }\n      }, React.createElement(Button, {\n        onPress: this.onSubmit,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 202,\n          columnNumber: 17\n        }\n      }, \"Submit\"))))));\n    }\n  }]);\n\n  return Index;\n}(Component);\n\nvar mapStatetoprops = function mapStatetoprops(state) {\n  return _objectSpread({}, state.User);\n};\n\nexport default connect(mapStatetoprops, {\n  update: update,\n  readFromDatabase: readFromDatabase,\n  submitToBackend: submitToBackend\n})(Index);","map":{"version":3,"sources":["C:/Users/limwe/Documents/application/gogogain-app/gogogain-user/src/screens/auth/UserForm/index.js"],"names":["React","Component","Button","Text","View","ScrollView","TouchableWithoutFeedBack","KeyboardAvoidingView","ModalSelector","Icon","PhoneInput","Input","Card","CardSection","Colors","connect","update","readFromDatabase","submitToBackend","Actions","styles","Index","props","onRecordChange","value","key","nestedKey","user","setState","onSelectChange","onSubmit","bind","readLoading","readError","displayName","gender","email","address","identityNumber","countriesList","require","statesList","flex","Platform","OS","Keyboard","dismiss","marginTop","flexDirection","marginLeft","justifyContent","padding","ORANGE_DARK","GRAY","paddingHorizontal","line1","line2","width","marginHorizontal","postcode","labelStyle","modal_selector","item","state","country","mapStatetoprops","User"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\r\nimport { Keyboard, Platform } from \"react-native\";\r\n\r\nimport {\r\n  Button,\r\n  Text,\r\n  View,\r\n  ScrollView,\r\n  TouchableWithoutFeedBack,\r\n  KeyboardAvoidingView,\r\n  ModalSelector,\r\n  Icon,\r\n  PhoneInput,\r\n  Input\r\n} from \"../../../marslab-library-react-native/components/atoms\";\r\n\r\nimport {\r\n  Card,\r\n  CardSection,\r\n} from \"../../../marslab-library-react-native/components/molecules\";\r\n\r\nimport { Colors } from \"../../../settings/styles/theme\";\r\n\r\nimport { connect } from \"react-redux\";\r\nimport { update,readFromDatabase,submitToBackend } from \"../../../marslab-library-react-native/redux/user/action\";\r\nimport { Actions } from \"react-native-router-flux\";\r\nimport styles from \"./styles\";\r\n\r\n\r\nexport class Index extends Component {\r\n  constructor(props) {\r\n    super(props)\r\n\r\n    //bind functions\r\n    this.onSubmit = this.onSubmit.bind(this);\r\n  }\r\n\r\n  componentDidMount() {\r\n    this.props.readFromDatabase()\r\n  }\r\n\r\n  onRecordChange = ({ key, nestedKey }, value) => {\r\n    let { user } = this.props\r\n    this.setState({user})\r\n    if (key && nestedKey) user[key][nestedKey] = value;\r\n    else if (key) user[key] = value;\r\n    this.props.update(user);\r\n  };\r\n\r\n  onSelectChange = ({ key, nestedKey }, value) => {\r\n    let { user } = this.props\r\n    this.setState({user})\r\n    if (key && nestedKey) user[key][nestedKey] = value;\r\n    else if (key) user[key] = value;\r\n    this.props.update(user);\r\n  };\r\n\r\n  onSubmit() {\r\n    const { user } = this.props\r\n    this.props.submitToBackend(user, \"updateProfile\")\r\n  }\r\n\r\n  render() {\r\n    const { user, readLoading,readError } = this.props\r\n    const {\r\n      displayName,\r\n      gender,\r\n      email,\r\n      address,\r\n      identityNumber\r\n    } = user;\r\n\r\n    const countriesList = require(\"../../../assets/address/countries.json\");\r\n    const statesList = require(\"../../../assets/address/Malaysia/states.json\");\r\n\r\n\r\n    return (\r\n      <KeyboardAvoidingView\r\n        //behavior={Platform.OS === \"ios\" ? \"padding\" : null}\r\n        //behavior=\"position\"\r\n        behavior=\"padding\"\r\n        style={{ flex: 1 }}\r\n        keyboardVerticalOffset={Platform.OS === \"ios\" ? 0 : 100}\r\n        enabled\r\n      >\r\n        <ScrollView>\r\n          <TouchableWithoutFeedBack\r\n            onPress={Keyboard.dismiss}\r\n            accessible={false}\r\n          >\r\n            <Card style={{ marginTop: 20 }}>\r\n              <CardSection>\r\n                <Input\r\n                  label=\"Name as Per IC*\"\r\n                  value={displayName}\r\n                  onChangeText={this.onRecordChange.bind(this,{key:\"displayName\"})}\r\n                />\r\n              </CardSection>\r\n              <CardSection>\r\n                <Input\r\n                  label=\"Identity Card Number\"\r\n                  value={identityNumber}\r\n                  onChangeText={this.onRecordChange.bind(this,{key:\"identityNumber\"})}\r\n                />\r\n              </CardSection>\r\n              <CardSection style={{ flexDirection: \"column\" }}>\r\n                <Input label=\"Gender\" input={false} />\r\n                <View style={{ marginLeft: 10, flexDirection: \"row\" }}>\r\n                  <Icon\r\n                    size={40}\r\n                    //iconStyle = {[styles.userInfomationIcon,{borderWidth: 0,}]}\r\n                    containerStyle={{ justifyContent: \"center\", padding: 10 }}\r\n                    onPress={() => this.onRecordChange({key:\"gender\"},\"male\")}\r\n                    color={\r\n                      gender === \"male\" ? Colors.ORANGE_DARK : Colors.GRAY\r\n                    }\r\n                    name=\"male\"\r\n                    type=\"font-awesome\"\r\n                    //color={styles.userInfomationIcon.borderColor}\r\n                  />\r\n\r\n                  <Icon\r\n                    size={40}\r\n                    //iconStyle = {[styles.userInfomationIcon,{borderWidth: 0,}]}\r\n                    containerStyle={{\r\n                      justifyContent: \"center\",\r\n                      paddingHorizontal: 10\r\n                    }}\r\n                    color={\r\n                      gender === \"female\"\r\n                        ? Colors.ORANGE_DARK\r\n                        : Colors.GRAY\r\n                    }\r\n                    onPress={() => this.onRecordChange({key:\"gender\"},\"female\")}\r\n                    name=\"female\"\r\n                    type=\"font-awesome\"\r\n                    //color={styles.userInfomationIcon.borderColor}\r\n                  />\r\n                </View>\r\n              </CardSection>\r\n              <CardSection>\r\n                <Input\r\n                  label=\"Email*\"\r\n                  value={email}\r\n                  onChangeText={this.onRecordChange.bind(this,{key:\"email\"})}\r\n                />\r\n              </CardSection>\r\n\r\n              <CardSection style={{ flexDirection: \"column\" }}>\r\n                <Input label=\"Address\" input={false} />\r\n                <Input\r\n                  label=\"Line 1\"\r\n                  value={address.line1}\r\n                  onChangeText={this.onRecordChange.bind(this,{key:\"address\", nestedKey:\"line1\"})}\r\n                  \r\n                />\r\n              </CardSection>\r\n              <CardSection>\r\n                <Input\r\n                  label=\"Line 2\"\r\n                  value={address.line2}\r\n                  onChangeText={this.onRecordChange.bind(this,{key:\"address\", nestedKey:\"line2\"})}\r\n                  \r\n                />\r\n              </CardSection>\r\n              <CardSection>\r\n                <View style={{ width: 100, marginHorizontal: 5 }}>\r\n                  <Input\r\n                    label=\"Postcode\"\r\n                    value={address.postcode}\r\n                    onChangeText={this.onRecordChange.bind(this,{key:\"address\", nestedKey:\"postcode\"})}\r\n                    \r\n                  />\r\n                </View>\r\n                <View style={{ width: 125, marginHorizontal: 5 }}>\r\n                  <Text style={styles.labelStyle}>States</Text>\r\n                  <ModalSelector\r\n                    style={styles.modal_selector}\r\n                    data={statesList}\r\n                    keyExtractor={item => item}\r\n                    labelExtractor={item => item}\r\n                    onChange={this.onSelectChange.bind(this,{key:\"address\",nestedKey:\"state\"})}\r\n                    selectedKey={address.state}\r\n                    initValue=\"Select\"\r\n                  />\r\n                </View>\r\n                <View style={{ width: 125, marginHorizontal: 5 }}>\r\n                  <Text style={styles.labelStyle}>Country</Text>\r\n                  <ModalSelector\r\n                    style={styles.modal_selector}\r\n                    data={countriesList}\r\n                    keyExtractor={item => item.country}\r\n                    labelExtractor={item => item.country}\r\n                    onChange={(value)=>this.onSelectChange({key:\"address\",nestedKey:\"country\"},value.country)}\r\n                    selectedKey={address.country}\r\n                    initValue=\"Select\"\r\n                  />\r\n                </View>\r\n              </CardSection>\r\n\r\n              <CardSection style={{ marginTop: 10 }}>\r\n                <Button onPress={this.onSubmit}>Submit</Button>\r\n              </CardSection>\r\n            </Card>\r\n          </TouchableWithoutFeedBack>\r\n        </ScrollView>\r\n      </KeyboardAvoidingView>\r\n    );\r\n  }\r\n}\r\n\r\nconst mapStatetoprops = state => {\r\n  return {...state.User };\r\n};\r\n\r\nexport default connect(mapStatetoprops, { update, readFromDatabase, submitToBackend })(Index);\r\n"]},"metadata":{},"sourceType":"module"}