{"ast":null,"code":"import _extends2 from \"@babel/runtime/helpers/extends\";\n\nvar _extends = Object.assign || function (target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i];\n\n    for (var key in source) {\n      if (Object.prototype.hasOwnProperty.call(source, key)) {\n        target[key] = source[key];\n      }\n    }\n  }\n\n  return target;\n};\n\nfunction _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nfunction _possibleConstructorReturn(self, call) {\n  if (!self) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self;\n}\n\nfunction _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass);\n  }\n\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      enumerable: false,\n      writable: true,\n      configurable: true\n    }\n  });\n  if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass;\n}\n\nimport React from 'react';\nimport View from \"../../../exports/View\";\nimport VirtualizedList from \"../VirtualizedList\";\nimport invariant from 'fbjs/lib/invariant';\n\nvar VirtualizedSectionList = function (_React$PureComponent) {\n  _inherits(VirtualizedSectionList, _React$PureComponent);\n\n  VirtualizedSectionList.prototype.scrollToLocation = function scrollToLocation(params) {\n    var index = params.itemIndex + 1;\n\n    for (var ii = 0; ii < params.sectionIndex; ii++) {\n      index += this.props.sections[ii].data.length + 2;\n    }\n\n    var toIndexParams = _extends2({}, params, {\n      index: index\n    });\n\n    this._listRef.scrollToIndex(toIndexParams);\n  };\n\n  VirtualizedSectionList.prototype.getListRef = function getListRef() {\n    return this._listRef;\n  };\n\n  VirtualizedSectionList.prototype._subExtractor = function _subExtractor(index) {\n    var itemIndex = index;\n    var defaultKeyExtractor = this.props.keyExtractor;\n\n    for (var ii = 0; ii < this.props.sections.length; ii++) {\n      var _section = this.props.sections[ii];\n\n      var _key = _section.key || String(ii);\n\n      itemIndex -= 1;\n\n      if (itemIndex >= _section.data.length + 1) {\n        itemIndex -= _section.data.length + 1;\n      } else if (itemIndex === -1) {\n        return {\n          section: _section,\n          key: _key + ':header',\n          index: null,\n          header: true,\n          trailingSection: this.props.sections[ii + 1]\n        };\n      } else if (itemIndex === _section.data.length) {\n        return {\n          section: _section,\n          key: _key + ':footer',\n          index: null,\n          header: false,\n          trailingSection: this.props.sections[ii + 1]\n        };\n      } else {\n        var _keyExtractor = _section.keyExtractor || defaultKeyExtractor;\n\n        return {\n          section: _section,\n          key: _key + ':' + _keyExtractor(_section.data[itemIndex], itemIndex),\n          index: itemIndex,\n          leadingItem: _section.data[itemIndex - 1],\n          leadingSection: this.props.sections[ii - 1],\n          trailingItem: _section.data[itemIndex + 1],\n          trailingSection: this.props.sections[ii + 1]\n        };\n      }\n    }\n  };\n\n  VirtualizedSectionList.prototype._getSeparatorComponent = function _getSeparatorComponent(index, info) {\n    info = info || this._subExtractor(index);\n\n    if (!info) {\n      return null;\n    }\n\n    var ItemSeparatorComponent = info.section.ItemSeparatorComponent || this.props.ItemSeparatorComponent;\n    var SectionSeparatorComponent = this.props.SectionSeparatorComponent;\n    var isLastItemInList = index === this.state.childProps.getItemCount() - 1;\n    var isLastItemInSection = info.index === info.section.data.length - 1;\n\n    if (SectionSeparatorComponent && isLastItemInSection) {\n      return SectionSeparatorComponent;\n    }\n\n    if (ItemSeparatorComponent && !isLastItemInSection && !isLastItemInList) {\n      return ItemSeparatorComponent;\n    }\n\n    return null;\n  };\n\n  VirtualizedSectionList.prototype._computeState = function _computeState(props) {\n    var offset = props.ListHeaderComponent ? 1 : 0;\n    var stickyHeaderIndices = [];\n    var itemCount = props.sections.reduce(function (v, section) {\n      stickyHeaderIndices.push(v + offset);\n      return v + section.data.length + 2;\n    }, 0);\n    return {\n      childProps: _extends2({}, props, {\n        renderItem: this._renderItem,\n        ItemSeparatorComponent: undefined,\n        data: props.sections,\n        getItemCount: function getItemCount() {\n          return itemCount;\n        },\n        getItem: getItem,\n        keyExtractor: this._keyExtractor,\n        onViewableItemsChanged: props.onViewableItemsChanged ? this._onViewableItemsChanged : undefined,\n        stickyHeaderIndices: props.stickySectionHeadersEnabled ? stickyHeaderIndices : undefined\n      })\n    };\n  };\n\n  function VirtualizedSectionList(props, context) {\n    _classCallCheck(this, VirtualizedSectionList);\n\n    var _this = _possibleConstructorReturn(this, _React$PureComponent.call(this, props, context));\n\n    _this._keyExtractor = function (item, index) {\n      var info = _this._subExtractor(index);\n\n      return info && info.key || String(index);\n    };\n\n    _this._convertViewable = function (viewable) {\n      invariant(viewable.index != null, 'Received a broken ViewToken');\n\n      var info = _this._subExtractor(viewable.index);\n\n      if (!info) {\n        return null;\n      }\n\n      var keyExtractor = info.section.keyExtractor || _this.props.keyExtractor;\n      return _extends2({}, viewable, {\n        index: info.index,\n        key: keyExtractor(viewable.item, info.index),\n        section: info.section\n      });\n    };\n\n    _this._onViewableItemsChanged = function (_ref) {\n      var viewableItems = _ref.viewableItems,\n          changed = _ref.changed;\n\n      if (_this.props.onViewableItemsChanged) {\n        _this.props.onViewableItemsChanged({\n          viewableItems: viewableItems.map(_this._convertViewable, _this).filter(Boolean),\n          changed: changed.map(_this._convertViewable, _this).filter(Boolean)\n        });\n      }\n    };\n\n    _this._renderItem = function (_ref2) {\n      var item = _ref2.item,\n          index = _ref2.index;\n\n      var info = _this._subExtractor(index);\n\n      if (!info) {\n        return null;\n      }\n\n      var infoIndex = info.index;\n\n      if (infoIndex == null) {\n        var _section2 = info.section;\n\n        if (info.header === true) {\n          var _renderSectionHeader = _this.props.renderSectionHeader;\n          return _renderSectionHeader ? _renderSectionHeader({\n            section: _section2\n          }) : null;\n        } else {\n          var _renderSectionFooter = _this.props.renderSectionFooter;\n          return _renderSectionFooter ? _renderSectionFooter({\n            section: _section2\n          }) : null;\n        }\n      } else {\n        var _renderItem = info.section.renderItem || _this.props.renderItem;\n\n        var _SeparatorComponent = _this._getSeparatorComponent(index, info);\n\n        invariant(_renderItem, 'no renderItem!');\n        return React.createElement(ItemWithSeparator, {\n          SeparatorComponent: _SeparatorComponent,\n          LeadingSeparatorComponent: infoIndex === 0 ? _this.props.SectionSeparatorComponent : undefined,\n          cellKey: info.key,\n          index: infoIndex,\n          item: item,\n          leadingItem: info.leadingItem,\n          leadingSection: info.leadingSection,\n          onUpdateSeparator: _this._onUpdateSeparator,\n          prevCellKey: (_this._subExtractor(index - 1) || {}).key,\n          ref: function ref(_ref3) {\n            _this._cellRefs[info.key] = _ref3;\n          },\n          renderItem: _renderItem,\n          section: info.section,\n          trailingItem: info.trailingItem,\n          trailingSection: info.trailingSection\n        });\n      }\n    };\n\n    _this._onUpdateSeparator = function (key, newProps) {\n      var ref = _this._cellRefs[key];\n      ref && ref.updateSeparatorProps(newProps);\n    };\n\n    _this._cellRefs = {};\n\n    _this._captureRef = function (ref) {\n      _this._listRef = ref;\n    };\n\n    _this.state = _this._computeState(props);\n    return _this;\n  }\n\n  VirtualizedSectionList.prototype.UNSAFE_componentWillReceiveProps = function UNSAFE_componentWillReceiveProps(nextProps) {\n    this.setState(this._computeState(nextProps));\n  };\n\n  VirtualizedSectionList.prototype.render = function render() {\n    return React.createElement(VirtualizedList, _extends({}, this.state.childProps, {\n      ref: this._captureRef\n    }));\n  };\n\n  return VirtualizedSectionList;\n}(React.PureComponent);\n\nVirtualizedSectionList.defaultProps = _extends2({}, VirtualizedList.defaultProps, {\n  data: []\n});\n\nvar ItemWithSeparator = function (_React$Component) {\n  _inherits(ItemWithSeparator, _React$Component);\n\n  function ItemWithSeparator() {\n    var _temp, _this2, _ret;\n\n    _classCallCheck(this, ItemWithSeparator);\n\n    for (var _len = arguments.length, args = Array(_len), _key2 = 0; _key2 < _len; _key2++) {\n      args[_key2] = arguments[_key2];\n    }\n\n    return _ret = (_temp = (_this2 = _possibleConstructorReturn(this, _React$Component.call.apply(_React$Component, [this].concat(args))), _this2), _this2.state = {\n      separatorProps: {\n        highlighted: false,\n        leadingItem: _this2.props.item,\n        leadingSection: _this2.props.leadingSection,\n        section: _this2.props.section,\n        trailingItem: _this2.props.trailingItem,\n        trailingSection: _this2.props.trailingSection\n      },\n      leadingSeparatorProps: {\n        highlighted: false,\n        leadingItem: _this2.props.leadingItem,\n        leadingSection: _this2.props.leadingSection,\n        section: _this2.props.section,\n        trailingItem: _this2.props.item,\n        trailingSection: _this2.props.trailingSection\n      }\n    }, _this2._separators = {\n      highlight: function highlight() {\n        ['leading', 'trailing'].forEach(function (s) {\n          return _this2._separators.updateProps(s, {\n            highlighted: true\n          });\n        });\n      },\n      unhighlight: function unhighlight() {\n        ['leading', 'trailing'].forEach(function (s) {\n          return _this2._separators.updateProps(s, {\n            highlighted: false\n          });\n        });\n      },\n      updateProps: function updateProps(select, newProps) {\n        var _this2$props = _this2.props,\n            LeadingSeparatorComponent = _this2$props.LeadingSeparatorComponent,\n            cellKey = _this2$props.cellKey,\n            prevCellKey = _this2$props.prevCellKey;\n\n        if (select === 'leading' && LeadingSeparatorComponent) {\n          _this2.setState(function (state) {\n            return {\n              leadingSeparatorProps: _extends2({}, state.leadingSeparatorProps, newProps)\n            };\n          });\n        } else {\n          _this2.props.onUpdateSeparator(select === 'leading' && prevCellKey || cellKey, newProps);\n        }\n      }\n    }, _temp), _possibleConstructorReturn(_this2, _ret);\n  }\n\n  ItemWithSeparator.prototype.UNSAFE_componentWillReceiveProps = function UNSAFE_componentWillReceiveProps(props) {\n    var _this3 = this;\n\n    this.setState(function (state) {\n      return {\n        separatorProps: _extends2({}, _this3.state.separatorProps, {\n          leadingItem: props.item,\n          leadingSection: props.leadingSection,\n          section: props.section,\n          trailingItem: props.trailingItem,\n          trailingSection: props.trailingSection\n        }),\n        leadingSeparatorProps: _extends2({}, _this3.state.leadingSeparatorProps, {\n          leadingItem: props.leadingItem,\n          leadingSection: props.leadingSection,\n          section: props.section,\n          trailingItem: props.item,\n          trailingSection: props.trailingSection\n        })\n      };\n    });\n  };\n\n  ItemWithSeparator.prototype.updateSeparatorProps = function updateSeparatorProps(newProps) {\n    this.setState(function (state) {\n      return {\n        separatorProps: _extends2({}, state.separatorProps, newProps)\n      };\n    });\n  };\n\n  ItemWithSeparator.prototype.render = function render() {\n    var _props = this.props,\n        LeadingSeparatorComponent = _props.LeadingSeparatorComponent,\n        SeparatorComponent = _props.SeparatorComponent,\n        item = _props.item,\n        index = _props.index,\n        section = _props.section;\n    var element = this.props.renderItem({\n      item: item,\n      index: index,\n      section: section,\n      separators: this._separators\n    });\n    var leadingSeparator = LeadingSeparatorComponent && React.createElement(LeadingSeparatorComponent, this.state.leadingSeparatorProps);\n    var separator = SeparatorComponent && React.createElement(SeparatorComponent, this.state.separatorProps);\n    return leadingSeparator || separator ? React.createElement(View, null, leadingSeparator, element, separator) : element;\n  };\n\n  return ItemWithSeparator;\n}(React.Component);\n\nfunction getItem(sections, index) {\n  if (!sections) {\n    return null;\n  }\n\n  var itemIdx = index - 1;\n\n  for (var ii = 0; ii < sections.length; ii++) {\n    if (itemIdx === -1 || itemIdx === sections[ii].data.length) {\n      return sections[ii];\n    } else if (itemIdx < sections[ii].data.length) {\n      return sections[ii].data[itemIdx];\n    } else {\n      itemIdx -= sections[ii].data.length + 2;\n    }\n  }\n\n  return null;\n}\n\nexport default VirtualizedSectionList;","map":{"version":3,"sources":["C:/Gogogain/Gogogain - User/node_modules/react-native-web/dist/vendor/react-native/VirtualizedSectionList/index.js"],"names":["_extends","Object","assign","target","i","arguments","length","source","key","prototype","hasOwnProperty","call","_classCallCheck","instance","Constructor","TypeError","_possibleConstructorReturn","self","ReferenceError","_inherits","subClass","superClass","create","constructor","value","enumerable","writable","configurable","setPrototypeOf","__proto__","React","View","VirtualizedList","invariant","VirtualizedSectionList","_React$PureComponent","scrollToLocation","params","index","itemIndex","ii","sectionIndex","props","sections","data","toIndexParams","_listRef","scrollToIndex","getListRef","_subExtractor","defaultKeyExtractor","keyExtractor","_section","_key","String","section","header","trailingSection","_keyExtractor","leadingItem","leadingSection","trailingItem","_getSeparatorComponent","info","ItemSeparatorComponent","SectionSeparatorComponent","isLastItemInList","state","childProps","getItemCount","isLastItemInSection","_computeState","offset","ListHeaderComponent","stickyHeaderIndices","itemCount","reduce","v","push","renderItem","_renderItem","undefined","getItem","onViewableItemsChanged","_onViewableItemsChanged","stickySectionHeadersEnabled","context","_this","item","_convertViewable","viewable","_ref","viewableItems","changed","map","filter","Boolean","_ref2","infoIndex","_section2","_renderSectionHeader","renderSectionHeader","_renderSectionFooter","renderSectionFooter","_SeparatorComponent","createElement","ItemWithSeparator","SeparatorComponent","LeadingSeparatorComponent","cellKey","onUpdateSeparator","_onUpdateSeparator","prevCellKey","ref","_ref3","_cellRefs","newProps","updateSeparatorProps","_captureRef","UNSAFE_componentWillReceiveProps","nextProps","setState","render","PureComponent","defaultProps","_React$Component","_temp","_this2","_ret","_len","args","Array","_key2","apply","concat","separatorProps","highlighted","leadingSeparatorProps","_separators","highlight","forEach","s","updateProps","unhighlight","select","_this2$props","_this3","_props","element","separators","leadingSeparator","separator","Component","itemIdx"],"mappings":";;AAAA,IAAIA,QAAQ,GAAGC,MAAM,CAACC,MAAP,IAAiB,UAAUC,MAAV,EAAkB;AAAE,OAAK,IAAIC,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGC,SAAS,CAACC,MAA9B,EAAsCF,CAAC,EAAvC,EAA2C;AAAE,QAAIG,MAAM,GAAGF,SAAS,CAACD,CAAD,CAAtB;;AAA2B,SAAK,IAAII,GAAT,IAAgBD,MAAhB,EAAwB;AAAE,UAAIN,MAAM,CAACQ,SAAP,CAAiBC,cAAjB,CAAgCC,IAAhC,CAAqCJ,MAArC,EAA6CC,GAA7C,CAAJ,EAAuD;AAAEL,QAAAA,MAAM,CAACK,GAAD,CAAN,GAAcD,MAAM,CAACC,GAAD,CAApB;AAA4B;AAAE;AAAE;;AAAC,SAAOL,MAAP;AAAgB,CAAhQ;;AAEA,SAASS,eAAT,CAAyBC,QAAzB,EAAmCC,WAAnC,EAAgD;AAAE,MAAI,EAAED,QAAQ,YAAYC,WAAtB,CAAJ,EAAwC;AAAE,UAAM,IAAIC,SAAJ,CAAc,mCAAd,CAAN;AAA2D;AAAE;;AAEzJ,SAASC,0BAAT,CAAoCC,IAApC,EAA0CN,IAA1C,EAAgD;AAAE,MAAI,CAACM,IAAL,EAAW;AAAE,UAAM,IAAIC,cAAJ,CAAmB,2DAAnB,CAAN;AAAwF;;AAAC,SAAOP,IAAI,KAAK,OAAOA,IAAP,KAAgB,QAAhB,IAA4B,OAAOA,IAAP,KAAgB,UAAjD,CAAJ,GAAmEA,IAAnE,GAA0EM,IAAjF;AAAwF;;AAEhP,SAASE,SAAT,CAAmBC,QAAnB,EAA6BC,UAA7B,EAAyC;AAAE,MAAI,OAAOA,UAAP,KAAsB,UAAtB,IAAoCA,UAAU,KAAK,IAAvD,EAA6D;AAAE,UAAM,IAAIN,SAAJ,CAAc,6DAA6D,OAAOM,UAAlF,CAAN;AAAsG;;AAACD,EAAAA,QAAQ,CAACX,SAAT,GAAqBR,MAAM,CAACqB,MAAP,CAAcD,UAAU,IAAIA,UAAU,CAACZ,SAAvC,EAAkD;AAAEc,IAAAA,WAAW,EAAE;AAAEC,MAAAA,KAAK,EAAEJ,QAAT;AAAmBK,MAAAA,UAAU,EAAE,KAA/B;AAAsCC,MAAAA,QAAQ,EAAE,IAAhD;AAAsDC,MAAAA,YAAY,EAAE;AAApE;AAAf,GAAlD,CAArB;AAAqK,MAAIN,UAAJ,EAAgBpB,MAAM,CAAC2B,cAAP,GAAwB3B,MAAM,CAAC2B,cAAP,CAAsBR,QAAtB,EAAgCC,UAAhC,CAAxB,GAAsED,QAAQ,CAACS,SAAT,GAAqBR,UAA3F;AAAwG;;AAY9e,OAAOS,KAAP,MAAkB,OAAlB;AACA,OAAOC,IAAP;AACA,OAAOC,eAAP;AACA,OAAOC,SAAP,MAAsB,oBAAtB;;AAOA,IAAIC,sBAAsB,GAAG,UAAUC,oBAAV,EAAgC;AAC3DhB,EAAAA,SAAS,CAACe,sBAAD,EAAyBC,oBAAzB,CAAT;;AAEAD,EAAAA,sBAAsB,CAACzB,SAAvB,CAAiC2B,gBAAjC,GAAoD,SAASA,gBAAT,CAA0BC,MAA1B,EAAkC;AACpF,QAAIC,KAAK,GAAGD,MAAM,CAACE,SAAP,GAAmB,CAA/B;;AACA,SAAK,IAAIC,EAAE,GAAG,CAAd,EAAiBA,EAAE,GAAGH,MAAM,CAACI,YAA7B,EAA2CD,EAAE,EAA7C,EAAiD;AAC/CF,MAAAA,KAAK,IAAI,KAAKI,KAAL,CAAWC,QAAX,CAAoBH,EAApB,EAAwBI,IAAxB,CAA6BtC,MAA7B,GAAsC,CAA/C;AACD;;AACD,QAAIuC,aAAa,GAAG,UAAc,EAAd,EAAkBR,MAAlB,EAA0B;AAC5CC,MAAAA,KAAK,EAAEA;AADqC,KAA1B,CAApB;;AAGA,SAAKQ,QAAL,CAAcC,aAAd,CAA4BF,aAA5B;AACD,GATD;;AAWAX,EAAAA,sBAAsB,CAACzB,SAAvB,CAAiCuC,UAAjC,GAA8C,SAASA,UAAT,GAAsB;AAClE,WAAO,KAAKF,QAAZ;AACD,GAFD;;AAIAZ,EAAAA,sBAAsB,CAACzB,SAAvB,CAAiCwC,aAAjC,GAAiD,SAASA,aAAT,CAAuBX,KAAvB,EAA8B;AAC7E,QAAIC,SAAS,GAAGD,KAAhB;AACA,QAAIY,mBAAmB,GAAG,KAAKR,KAAL,CAAWS,YAArC;;AACA,SAAK,IAAIX,EAAE,GAAG,CAAd,EAAiBA,EAAE,GAAG,KAAKE,KAAL,CAAWC,QAAX,CAAoBrC,MAA1C,EAAkDkC,EAAE,EAApD,EAAwD;AACtD,UAAIY,QAAQ,GAAG,KAAKV,KAAL,CAAWC,QAAX,CAAoBH,EAApB,CAAf;;AACA,UAAIa,IAAI,GAAGD,QAAQ,CAAC5C,GAAT,IAAgB8C,MAAM,CAACd,EAAD,CAAjC;;AACAD,MAAAA,SAAS,IAAI,CAAb;;AACA,UAAIA,SAAS,IAAIa,QAAQ,CAACR,IAAT,CAActC,MAAd,GAAuB,CAAxC,EAA2C;AACzCiC,QAAAA,SAAS,IAAIa,QAAQ,CAACR,IAAT,CAActC,MAAd,GAAuB,CAApC;AACD,OAFD,MAEO,IAAIiC,SAAS,KAAK,CAAC,CAAnB,EAAsB;AAC3B,eAAO;AACLgB,UAAAA,OAAO,EAAEH,QADJ;AAEL5C,UAAAA,GAAG,EAAE6C,IAAI,GAAG,SAFP;AAGLf,UAAAA,KAAK,EAAE,IAHF;AAILkB,UAAAA,MAAM,EAAE,IAJH;AAKLC,UAAAA,eAAe,EAAE,KAAKf,KAAL,CAAWC,QAAX,CAAoBH,EAAE,GAAG,CAAzB;AALZ,SAAP;AAOD,OARM,MAQA,IAAID,SAAS,KAAKa,QAAQ,CAACR,IAAT,CAActC,MAAhC,EAAwC;AAC7C,eAAO;AACLiD,UAAAA,OAAO,EAAEH,QADJ;AAEL5C,UAAAA,GAAG,EAAE6C,IAAI,GAAG,SAFP;AAGLf,UAAAA,KAAK,EAAE,IAHF;AAILkB,UAAAA,MAAM,EAAE,KAJH;AAKLC,UAAAA,eAAe,EAAE,KAAKf,KAAL,CAAWC,QAAX,CAAoBH,EAAE,GAAG,CAAzB;AALZ,SAAP;AAOD,OARM,MAQA;AACL,YAAIkB,aAAa,GAAGN,QAAQ,CAACD,YAAT,IAAyBD,mBAA7C;;AACA,eAAO;AACLK,UAAAA,OAAO,EAAEH,QADJ;AAEL5C,UAAAA,GAAG,EAAE6C,IAAI,GAAG,GAAP,GAAaK,aAAa,CAACN,QAAQ,CAACR,IAAT,CAAcL,SAAd,CAAD,EAA2BA,SAA3B,CAF1B;AAGLD,UAAAA,KAAK,EAAEC,SAHF;AAILoB,UAAAA,WAAW,EAAEP,QAAQ,CAACR,IAAT,CAAcL,SAAS,GAAG,CAA1B,CAJR;AAKLqB,UAAAA,cAAc,EAAE,KAAKlB,KAAL,CAAWC,QAAX,CAAoBH,EAAE,GAAG,CAAzB,CALX;AAMLqB,UAAAA,YAAY,EAAET,QAAQ,CAACR,IAAT,CAAcL,SAAS,GAAG,CAA1B,CANT;AAOLkB,UAAAA,eAAe,EAAE,KAAKf,KAAL,CAAWC,QAAX,CAAoBH,EAAE,GAAG,CAAzB;AAPZ,SAAP;AASD;AACF;AACF,GAtCD;;AAwCAN,EAAAA,sBAAsB,CAACzB,SAAvB,CAAiCqD,sBAAjC,GAA0D,SAASA,sBAAT,CAAgCxB,KAAhC,EAAuCyB,IAAvC,EAA6C;AACrGA,IAAAA,IAAI,GAAGA,IAAI,IAAI,KAAKd,aAAL,CAAmBX,KAAnB,CAAf;;AACA,QAAI,CAACyB,IAAL,EAAW;AACT,aAAO,IAAP;AACD;;AACD,QAAIC,sBAAsB,GAAGD,IAAI,CAACR,OAAL,CAAaS,sBAAb,IAAuC,KAAKtB,KAAL,CAAWsB,sBAA/E;AACA,QAAIC,yBAAyB,GAAG,KAAKvB,KAAL,CAAWuB,yBAA3C;AAEA,QAAIC,gBAAgB,GAAG5B,KAAK,KAAK,KAAK6B,KAAL,CAAWC,UAAX,CAAsBC,YAAtB,KAAuC,CAAxE;AACA,QAAIC,mBAAmB,GAAGP,IAAI,CAACzB,KAAL,KAAeyB,IAAI,CAACR,OAAL,CAAaX,IAAb,CAAkBtC,MAAlB,GAA2B,CAApE;;AACA,QAAI2D,yBAAyB,IAAIK,mBAAjC,EAAsD;AACpD,aAAOL,yBAAP;AACD;;AACD,QAAID,sBAAsB,IAAI,CAACM,mBAA3B,IAAkD,CAACJ,gBAAvD,EAAyE;AACvE,aAAOF,sBAAP;AACD;;AACD,WAAO,IAAP;AACD,GAjBD;;AAmBA9B,EAAAA,sBAAsB,CAACzB,SAAvB,CAAiC8D,aAAjC,GAAiD,SAASA,aAAT,CAAuB7B,KAAvB,EAA8B;AAC7E,QAAI8B,MAAM,GAAG9B,KAAK,CAAC+B,mBAAN,GAA4B,CAA5B,GAAgC,CAA7C;AACA,QAAIC,mBAAmB,GAAG,EAA1B;AACA,QAAIC,SAAS,GAAGjC,KAAK,CAACC,QAAN,CAAeiC,MAAf,CAAsB,UAAUC,CAAV,EAAatB,OAAb,EAAsB;AAC1DmB,MAAAA,mBAAmB,CAACI,IAApB,CAAyBD,CAAC,GAAGL,MAA7B;AACA,aAAOK,CAAC,GAAGtB,OAAO,CAACX,IAAR,CAAatC,MAAjB,GAA0B,CAAjC;AACD,KAHe,EAGb,CAHa,CAAhB;AAKA,WAAO;AACL8D,MAAAA,UAAU,EAAE,UAAc,EAAd,EAAkB1B,KAAlB,EAAyB;AACnCqC,QAAAA,UAAU,EAAE,KAAKC,WADkB;AAEnChB,QAAAA,sBAAsB,EAAEiB,SAFW;AAGnCrC,QAAAA,IAAI,EAAEF,KAAK,CAACC,QAHuB;AAInC0B,QAAAA,YAAY,EAAE,SAASA,YAAT,GAAwB;AACpC,iBAAOM,SAAP;AACD,SANkC;AAOnCO,QAAAA,OAAO,EAAEA,OAP0B;AAQnC/B,QAAAA,YAAY,EAAE,KAAKO,aARgB;AASnCyB,QAAAA,sBAAsB,EAAEzC,KAAK,CAACyC,sBAAN,GAA+B,KAAKC,uBAApC,GAA8DH,SATnD;AAUnCP,QAAAA,mBAAmB,EAAEhC,KAAK,CAAC2C,2BAAN,GAAoCX,mBAApC,GAA0DO;AAV5C,OAAzB;AADP,KAAP;AAcD,GAtBD;;AAwBA,WAAS/C,sBAAT,CAAgCQ,KAAhC,EAAuC4C,OAAvC,EAAgD;AAC9C1E,IAAAA,eAAe,CAAC,IAAD,EAAOsB,sBAAP,CAAf;;AAEA,QAAIqD,KAAK,GAAGvE,0BAA0B,CAAC,IAAD,EAAOmB,oBAAoB,CAACxB,IAArB,CAA0B,IAA1B,EAAgC+B,KAAhC,EAAuC4C,OAAvC,CAAP,CAAtC;;AAEAC,IAAAA,KAAK,CAAC7B,aAAN,GAAsB,UAAU8B,IAAV,EAAgBlD,KAAhB,EAAuB;AAC3C,UAAIyB,IAAI,GAAGwB,KAAK,CAACtC,aAAN,CAAoBX,KAApB,CAAX;;AACA,aAAOyB,IAAI,IAAIA,IAAI,CAACvD,GAAb,IAAoB8C,MAAM,CAAChB,KAAD,CAAjC;AACD,KAHD;;AAKAiD,IAAAA,KAAK,CAACE,gBAAN,GAAyB,UAAUC,QAAV,EAAoB;AAC3CzD,MAAAA,SAAS,CAACyD,QAAQ,CAACpD,KAAT,IAAkB,IAAnB,EAAyB,6BAAzB,CAAT;;AACA,UAAIyB,IAAI,GAAGwB,KAAK,CAACtC,aAAN,CAAoByC,QAAQ,CAACpD,KAA7B,CAAX;;AACA,UAAI,CAACyB,IAAL,EAAW;AACT,eAAO,IAAP;AACD;;AACD,UAAIZ,YAAY,GAAGY,IAAI,CAACR,OAAL,CAAaJ,YAAb,IAA6BoC,KAAK,CAAC7C,KAAN,CAAYS,YAA5D;AACA,aAAO,UAAc,EAAd,EAAkBuC,QAAlB,EAA4B;AACjCpD,QAAAA,KAAK,EAAEyB,IAAI,CAACzB,KADqB;AAKjC9B,QAAAA,GAAG,EAAE2C,YAAY,CAACuC,QAAQ,CAACF,IAAV,EAAgBzB,IAAI,CAACzB,KAArB,CALgB;AAMjCiB,QAAAA,OAAO,EAAEQ,IAAI,CAACR;AANmB,OAA5B,CAAP;AAQD,KAfD;;AAiBAgC,IAAAA,KAAK,CAACH,uBAAN,GAAgC,UAAUO,IAAV,EAAgB;AAC9C,UAAIC,aAAa,GAAGD,IAAI,CAACC,aAAzB;AAAA,UACIC,OAAO,GAAGF,IAAI,CAACE,OADnB;;AAGA,UAAIN,KAAK,CAAC7C,KAAN,CAAYyC,sBAAhB,EAAwC;AACtCI,QAAAA,KAAK,CAAC7C,KAAN,CAAYyC,sBAAZ,CAAmC;AACjCS,UAAAA,aAAa,EAAEA,aAAa,CAACE,GAAd,CAAkBP,KAAK,CAACE,gBAAxB,EAA0CF,KAA1C,EAAiDQ,MAAjD,CAAwDC,OAAxD,CADkB;AAEjCH,UAAAA,OAAO,EAAEA,OAAO,CAACC,GAAR,CAAYP,KAAK,CAACE,gBAAlB,EAAoCF,KAApC,EAA2CQ,MAA3C,CAAkDC,OAAlD;AAFwB,SAAnC;AAID;AACF,KAVD;;AAYAT,IAAAA,KAAK,CAACP,WAAN,GAAoB,UAAUiB,KAAV,EAAiB;AACnC,UAAIT,IAAI,GAAGS,KAAK,CAACT,IAAjB;AAAA,UACIlD,KAAK,GAAG2D,KAAK,CAAC3D,KADlB;;AAGA,UAAIyB,IAAI,GAAGwB,KAAK,CAACtC,aAAN,CAAoBX,KAApB,CAAX;;AACA,UAAI,CAACyB,IAAL,EAAW;AACT,eAAO,IAAP;AACD;;AACD,UAAImC,SAAS,GAAGnC,IAAI,CAACzB,KAArB;;AACA,UAAI4D,SAAS,IAAI,IAAjB,EAAuB;AACrB,YAAIC,SAAS,GAAGpC,IAAI,CAACR,OAArB;;AAEA,YAAIQ,IAAI,CAACP,MAAL,KAAgB,IAApB,EAA0B;AACxB,cAAI4C,oBAAoB,GAAGb,KAAK,CAAC7C,KAAN,CAAY2D,mBAAvC;AAEA,iBAAOD,oBAAoB,GAAGA,oBAAoB,CAAC;AAAE7C,YAAAA,OAAO,EAAE4C;AAAX,WAAD,CAAvB,GAAkD,IAA7E;AACD,SAJD,MAIO;AACL,cAAIG,oBAAoB,GAAGf,KAAK,CAAC7C,KAAN,CAAY6D,mBAAvC;AAEA,iBAAOD,oBAAoB,GAAGA,oBAAoB,CAAC;AAAE/C,YAAAA,OAAO,EAAE4C;AAAX,WAAD,CAAvB,GAAkD,IAA7E;AACD;AACF,OAZD,MAYO;AACL,YAAInB,WAAW,GAAGjB,IAAI,CAACR,OAAL,CAAawB,UAAb,IAA2BQ,KAAK,CAAC7C,KAAN,CAAYqC,UAAzD;;AACA,YAAIyB,mBAAmB,GAAGjB,KAAK,CAACzB,sBAAN,CAA6BxB,KAA7B,EAAoCyB,IAApC,CAA1B;;AACA9B,QAAAA,SAAS,CAAC+C,WAAD,EAAc,gBAAd,CAAT;AACA,eAAOlD,KAAK,CAAC2E,aAAN,CAAoBC,iBAApB,EAAuC;AAC5CC,UAAAA,kBAAkB,EAAEH,mBADwB;AAE5CI,UAAAA,yBAAyB,EAAEV,SAAS,KAAK,CAAd,GAAkBX,KAAK,CAAC7C,KAAN,CAAYuB,yBAA9B,GAA0DgB,SAFzC;AAG5C4B,UAAAA,OAAO,EAAE9C,IAAI,CAACvD,GAH8B;AAI5C8B,UAAAA,KAAK,EAAE4D,SAJqC;AAK5CV,UAAAA,IAAI,EAAEA,IALsC;AAM5C7B,UAAAA,WAAW,EAAEI,IAAI,CAACJ,WAN0B;AAO5CC,UAAAA,cAAc,EAAEG,IAAI,CAACH,cAPuB;AAQ5CkD,UAAAA,iBAAiB,EAAEvB,KAAK,CAACwB,kBARmB;AAS5CC,UAAAA,WAAW,EAAE,CAACzB,KAAK,CAACtC,aAAN,CAAoBX,KAAK,GAAG,CAA5B,KAAkC,EAAnC,EAAuC9B,GATR;AAU5CyG,UAAAA,GAAG,EAAE,SAASA,GAAT,CAAaC,KAAb,EAAoB;AACvB3B,YAAAA,KAAK,CAAC4B,SAAN,CAAgBpD,IAAI,CAACvD,GAArB,IAA4B0G,KAA5B;AACD,WAZ2C;AAa5CnC,UAAAA,UAAU,EAAEC,WAbgC;AAc5CzB,UAAAA,OAAO,EAAEQ,IAAI,CAACR,OAd8B;AAe5CM,UAAAA,YAAY,EAAEE,IAAI,CAACF,YAfyB;AAgB5CJ,UAAAA,eAAe,EAAEM,IAAI,CAACN;AAhBsB,SAAvC,CAAP;AAkBD;AACF,KA5CD;;AA8CA8B,IAAAA,KAAK,CAACwB,kBAAN,GAA2B,UAAUvG,GAAV,EAAe4G,QAAf,EAAyB;AAClD,UAAIH,GAAG,GAAG1B,KAAK,CAAC4B,SAAN,CAAgB3G,GAAhB,CAAV;AACAyG,MAAAA,GAAG,IAAIA,GAAG,CAACI,oBAAJ,CAAyBD,QAAzB,CAAP;AACD,KAHD;;AAKA7B,IAAAA,KAAK,CAAC4B,SAAN,GAAkB,EAAlB;;AAEA5B,IAAAA,KAAK,CAAC+B,WAAN,GAAoB,UAAUL,GAAV,EAAe;AAIjC1B,MAAAA,KAAK,CAACzC,QAAN,GAAiBmE,GAAjB;AACD,KALD;;AAOA1B,IAAAA,KAAK,CAACpB,KAAN,GAAcoB,KAAK,CAAChB,aAAN,CAAoB7B,KAApB,CAAd;AACA,WAAO6C,KAAP;AACD;;AAEDrD,EAAAA,sBAAsB,CAACzB,SAAvB,CAAiC8G,gCAAjC,GAAoE,SAASA,gCAAT,CAA0CC,SAA1C,EAAqD;AACvH,SAAKC,QAAL,CAAc,KAAKlD,aAAL,CAAmBiD,SAAnB,CAAd;AACD,GAFD;;AAIAtF,EAAAA,sBAAsB,CAACzB,SAAvB,CAAiCiH,MAAjC,GAA0C,SAASA,MAAT,GAAkB;AAC1D,WAAO5F,KAAK,CAAC2E,aAAN,CAAoBzE,eAApB,EAAqChC,QAAQ,CAAC,EAAD,EAAK,KAAKmE,KAAL,CAAWC,UAAhB,EAA4B;AAAE6C,MAAAA,GAAG,EAAE,KAAKK;AAAZ,KAA5B,CAA7C,CAAP;AACD,GAFD;;AAIA,SAAOpF,sBAAP;AACD,CArN4B,CAqN3BJ,KAAK,CAAC6F,aArNqB,CAA7B;;AAuNAzF,sBAAsB,CAAC0F,YAAvB,GAAsC,UAAc,EAAd,EAAkB5F,eAAe,CAAC4F,YAAlC,EAAgD;AACpFhF,EAAAA,IAAI,EAAE;AAD8E,CAAhD,CAAtC;;AAIA,IAAI8D,iBAAiB,GAAG,UAAUmB,gBAAV,EAA4B;AAClD1G,EAAAA,SAAS,CAACuF,iBAAD,EAAoBmB,gBAApB,CAAT;;AAEA,WAASnB,iBAAT,GAA6B;AAC3B,QAAIoB,KAAJ,EAAWC,MAAX,EAAmBC,IAAnB;;AAEApH,IAAAA,eAAe,CAAC,IAAD,EAAO8F,iBAAP,CAAf;;AAEA,SAAK,IAAIuB,IAAI,GAAG5H,SAAS,CAACC,MAArB,EAA6B4H,IAAI,GAAGC,KAAK,CAACF,IAAD,CAAzC,EAAiDG,KAAK,GAAG,CAA9D,EAAiEA,KAAK,GAAGH,IAAzE,EAA+EG,KAAK,EAApF,EAAwF;AACtFF,MAAAA,IAAI,CAACE,KAAD,CAAJ,GAAc/H,SAAS,CAAC+H,KAAD,CAAvB;AACD;;AAED,WAAOJ,IAAI,IAAIF,KAAK,IAAIC,MAAM,GAAG/G,0BAA0B,CAAC,IAAD,EAAO6G,gBAAgB,CAAClH,IAAjB,CAAsB0H,KAAtB,CAA4BR,gBAA5B,EAA8C,CAAC,IAAD,EAAOS,MAAP,CAAcJ,IAAd,CAA9C,CAAP,CAAnC,EAA+GH,MAAnH,CAAL,EAAiIA,MAAM,CAAC5D,KAAP,GAAe;AAC7JoE,MAAAA,cAAc,EAAE;AACdC,QAAAA,WAAW,EAAE,KADC;AAEd7E,QAAAA,WAAW,EAAEoE,MAAM,CAACrF,KAAP,CAAa8C,IAFZ;AAGd5B,QAAAA,cAAc,EAAEmE,MAAM,CAACrF,KAAP,CAAakB,cAHf;AAIdL,QAAAA,OAAO,EAAEwE,MAAM,CAACrF,KAAP,CAAaa,OAJR;AAKdM,QAAAA,YAAY,EAAEkE,MAAM,CAACrF,KAAP,CAAamB,YALb;AAMdJ,QAAAA,eAAe,EAAEsE,MAAM,CAACrF,KAAP,CAAae;AANhB,OAD6I;AAS7JgF,MAAAA,qBAAqB,EAAE;AACrBD,QAAAA,WAAW,EAAE,KADQ;AAErB7E,QAAAA,WAAW,EAAEoE,MAAM,CAACrF,KAAP,CAAaiB,WAFL;AAGrBC,QAAAA,cAAc,EAAEmE,MAAM,CAACrF,KAAP,CAAakB,cAHR;AAIrBL,QAAAA,OAAO,EAAEwE,MAAM,CAACrF,KAAP,CAAaa,OAJD;AAKrBM,QAAAA,YAAY,EAAEkE,MAAM,CAACrF,KAAP,CAAa8C,IALN;AAMrB/B,QAAAA,eAAe,EAAEsE,MAAM,CAACrF,KAAP,CAAae;AANT;AATsI,KAAhJ,EAiBZsE,MAAM,CAACW,WAAP,GAAqB;AACtBC,MAAAA,SAAS,EAAE,SAASA,SAAT,GAAqB;AAC9B,SAAC,SAAD,EAAY,UAAZ,EAAwBC,OAAxB,CAAgC,UAAUC,CAAV,EAAa;AAC3C,iBAAOd,MAAM,CAACW,WAAP,CAAmBI,WAAnB,CAA+BD,CAA/B,EAAkC;AAAEL,YAAAA,WAAW,EAAE;AAAf,WAAlC,CAAP;AACD,SAFD;AAGD,OALqB;AAMtBO,MAAAA,WAAW,EAAE,SAASA,WAAT,GAAuB;AAClC,SAAC,SAAD,EAAY,UAAZ,EAAwBH,OAAxB,CAAgC,UAAUC,CAAV,EAAa;AAC3C,iBAAOd,MAAM,CAACW,WAAP,CAAmBI,WAAnB,CAA+BD,CAA/B,EAAkC;AAAEL,YAAAA,WAAW,EAAE;AAAf,WAAlC,CAAP;AACD,SAFD;AAGD,OAVqB;AAWtBM,MAAAA,WAAW,EAAE,SAASA,WAAT,CAAqBE,MAArB,EAA6B5B,QAA7B,EAAuC;AAClD,YAAI6B,YAAY,GAAGlB,MAAM,CAACrF,KAA1B;AAAA,YACIkE,yBAAyB,GAAGqC,YAAY,CAACrC,yBAD7C;AAAA,YAEIC,OAAO,GAAGoC,YAAY,CAACpC,OAF3B;AAAA,YAGIG,WAAW,GAAGiC,YAAY,CAACjC,WAH/B;;AAKA,YAAIgC,MAAM,KAAK,SAAX,IAAwBpC,yBAA5B,EAAuD;AACrDmB,UAAAA,MAAM,CAACN,QAAP,CAAgB,UAAUtD,KAAV,EAAiB;AAC/B,mBAAO;AACLsE,cAAAA,qBAAqB,EAAE,UAAc,EAAd,EAAkBtE,KAAK,CAACsE,qBAAxB,EAA+CrB,QAA/C;AADlB,aAAP;AAGD,WAJD;AAKD,SAND,MAMO;AACLW,UAAAA,MAAM,CAACrF,KAAP,CAAaoE,iBAAb,CAA+BkC,MAAM,KAAK,SAAX,IAAwBhC,WAAxB,IAAuCH,OAAtE,EAA+EO,QAA/E;AACD;AACF;AA1BqB,KAjBT,EA4CZU,KA5CQ,CAAJ,EA4CI9G,0BAA0B,CAAC+G,MAAD,EAASC,IAAT,CA5CrC;AA6CD;;AAEDtB,EAAAA,iBAAiB,CAACjG,SAAlB,CAA4B8G,gCAA5B,GAA+D,SAASA,gCAAT,CAA0C7E,KAA1C,EAAiD;AAC9G,QAAIwG,MAAM,GAAG,IAAb;;AAEA,SAAKzB,QAAL,CAAc,UAAUtD,KAAV,EAAiB;AAC7B,aAAO;AACLoE,QAAAA,cAAc,EAAE,UAAc,EAAd,EAAkBW,MAAM,CAAC/E,KAAP,CAAaoE,cAA/B,EAA+C;AAC7D5E,UAAAA,WAAW,EAAEjB,KAAK,CAAC8C,IAD0C;AAE7D5B,UAAAA,cAAc,EAAElB,KAAK,CAACkB,cAFuC;AAG7DL,UAAAA,OAAO,EAAEb,KAAK,CAACa,OAH8C;AAI7DM,UAAAA,YAAY,EAAEnB,KAAK,CAACmB,YAJyC;AAK7DJ,UAAAA,eAAe,EAAEf,KAAK,CAACe;AALsC,SAA/C,CADX;AAQLgF,QAAAA,qBAAqB,EAAE,UAAc,EAAd,EAAkBS,MAAM,CAAC/E,KAAP,CAAasE,qBAA/B,EAAsD;AAC3E9E,UAAAA,WAAW,EAAEjB,KAAK,CAACiB,WADwD;AAE3EC,UAAAA,cAAc,EAAElB,KAAK,CAACkB,cAFqD;AAG3EL,UAAAA,OAAO,EAAEb,KAAK,CAACa,OAH4D;AAI3EM,UAAAA,YAAY,EAAEnB,KAAK,CAAC8C,IAJuD;AAK3E/B,UAAAA,eAAe,EAAEf,KAAK,CAACe;AALoD,SAAtD;AARlB,OAAP;AAgBD,KAjBD;AAkBD,GArBD;;AAuBAiD,EAAAA,iBAAiB,CAACjG,SAAlB,CAA4B4G,oBAA5B,GAAmD,SAASA,oBAAT,CAA8BD,QAA9B,EAAwC;AACzF,SAAKK,QAAL,CAAc,UAAUtD,KAAV,EAAiB;AAC7B,aAAO;AACLoE,QAAAA,cAAc,EAAE,UAAc,EAAd,EAAkBpE,KAAK,CAACoE,cAAxB,EAAwCnB,QAAxC;AADX,OAAP;AAGD,KAJD;AAKD,GAND;;AAQAV,EAAAA,iBAAiB,CAACjG,SAAlB,CAA4BiH,MAA5B,GAAqC,SAASA,MAAT,GAAkB;AACrD,QAAIyB,MAAM,GAAG,KAAKzG,KAAlB;AAAA,QACIkE,yBAAyB,GAAGuC,MAAM,CAACvC,yBADvC;AAAA,QAEID,kBAAkB,GAAGwC,MAAM,CAACxC,kBAFhC;AAAA,QAGInB,IAAI,GAAG2D,MAAM,CAAC3D,IAHlB;AAAA,QAIIlD,KAAK,GAAG6G,MAAM,CAAC7G,KAJnB;AAAA,QAKIiB,OAAO,GAAG4F,MAAM,CAAC5F,OALrB;AAOA,QAAI6F,OAAO,GAAG,KAAK1G,KAAL,CAAWqC,UAAX,CAAsB;AAClCS,MAAAA,IAAI,EAAEA,IAD4B;AAElClD,MAAAA,KAAK,EAAEA,KAF2B;AAGlCiB,MAAAA,OAAO,EAAEA,OAHyB;AAIlC8F,MAAAA,UAAU,EAAE,KAAKX;AAJiB,KAAtB,CAAd;AAMA,QAAIY,gBAAgB,GAAG1C,yBAAyB,IAAI9E,KAAK,CAAC2E,aAAN,CAAoBG,yBAApB,EAA+C,KAAKzC,KAAL,CAAWsE,qBAA1D,CAApD;AACA,QAAIc,SAAS,GAAG5C,kBAAkB,IAAI7E,KAAK,CAAC2E,aAAN,CAAoBE,kBAApB,EAAwC,KAAKxC,KAAL,CAAWoE,cAAnD,CAAtC;AACA,WAAOe,gBAAgB,IAAIC,SAApB,GAAgCzH,KAAK,CAAC2E,aAAN,CACrC1E,IADqC,EAErC,IAFqC,EAGrCuH,gBAHqC,EAIrCF,OAJqC,EAKrCG,SALqC,CAAhC,GAMHH,OANJ;AAOD,GAvBD;;AAyBA,SAAO1C,iBAAP;AACD,CApHuB,CAoHtB5E,KAAK,CAAC0H,SApHgB,CAAxB;;AAsHA,SAAStE,OAAT,CAAiBvC,QAAjB,EAA2BL,KAA3B,EAAkC;AAChC,MAAI,CAACK,QAAL,EAAe;AACb,WAAO,IAAP;AACD;;AACD,MAAI8G,OAAO,GAAGnH,KAAK,GAAG,CAAtB;;AACA,OAAK,IAAIE,EAAE,GAAG,CAAd,EAAiBA,EAAE,GAAGG,QAAQ,CAACrC,MAA/B,EAAuCkC,EAAE,EAAzC,EAA6C;AAC3C,QAAIiH,OAAO,KAAK,CAAC,CAAb,IAAkBA,OAAO,KAAK9G,QAAQ,CAACH,EAAD,CAAR,CAAaI,IAAb,CAAkBtC,MAApD,EAA4D;AAI1D,aAAOqC,QAAQ,CAACH,EAAD,CAAf;AACD,KALD,MAKO,IAAIiH,OAAO,GAAG9G,QAAQ,CAACH,EAAD,CAAR,CAAaI,IAAb,CAAkBtC,MAAhC,EAAwC;AAE7C,aAAOqC,QAAQ,CAACH,EAAD,CAAR,CAAaI,IAAb,CAAkB6G,OAAlB,CAAP;AACD,KAHM,MAGA;AACLA,MAAAA,OAAO,IAAI9G,QAAQ,CAACH,EAAD,CAAR,CAAaI,IAAb,CAAkBtC,MAAlB,GAA2B,CAAtC;AACD;AACF;;AACD,SAAO,IAAP;AACD;;AAED,eAAe4B,sBAAf","sourcesContent":["var _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\n/**\n * Copyright (c) 2015-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * @noflow\n * @format\n */\n\nimport React from 'react';\nimport View from '../../../exports/View';\nimport VirtualizedList from '../VirtualizedList';\nimport invariant from 'fbjs/lib/invariant';\n\n/**\n * Right now this just flattens everything into one list and uses VirtualizedList under the\n * hood. The only operation that might not scale well is concatting the data arrays of all the\n * sections when new props are received, which should be plenty fast for up to ~10,000 items.\n */\nvar VirtualizedSectionList = function (_React$PureComponent) {\n  _inherits(VirtualizedSectionList, _React$PureComponent);\n\n  VirtualizedSectionList.prototype.scrollToLocation = function scrollToLocation(params) {\n    var index = params.itemIndex + 1;\n    for (var ii = 0; ii < params.sectionIndex; ii++) {\n      index += this.props.sections[ii].data.length + 2;\n    }\n    var toIndexParams = Object.assign({}, params, {\n      index: index\n    });\n    this._listRef.scrollToIndex(toIndexParams);\n  };\n\n  VirtualizedSectionList.prototype.getListRef = function getListRef() {\n    return this._listRef;\n  };\n\n  VirtualizedSectionList.prototype._subExtractor = function _subExtractor(index) {\n    var itemIndex = index;\n    var defaultKeyExtractor = this.props.keyExtractor;\n    for (var ii = 0; ii < this.props.sections.length; ii++) {\n      var _section = this.props.sections[ii];\n      var _key = _section.key || String(ii);\n      itemIndex -= 1; // The section adds an item for the header\n      if (itemIndex >= _section.data.length + 1) {\n        itemIndex -= _section.data.length + 1; // The section adds an item for the footer.\n      } else if (itemIndex === -1) {\n        return {\n          section: _section,\n          key: _key + ':header',\n          index: null,\n          header: true,\n          trailingSection: this.props.sections[ii + 1]\n        };\n      } else if (itemIndex === _section.data.length) {\n        return {\n          section: _section,\n          key: _key + ':footer',\n          index: null,\n          header: false,\n          trailingSection: this.props.sections[ii + 1]\n        };\n      } else {\n        var _keyExtractor = _section.keyExtractor || defaultKeyExtractor;\n        return {\n          section: _section,\n          key: _key + ':' + _keyExtractor(_section.data[itemIndex], itemIndex),\n          index: itemIndex,\n          leadingItem: _section.data[itemIndex - 1],\n          leadingSection: this.props.sections[ii - 1],\n          trailingItem: _section.data[itemIndex + 1],\n          trailingSection: this.props.sections[ii + 1]\n        };\n      }\n    }\n  };\n\n  VirtualizedSectionList.prototype._getSeparatorComponent = function _getSeparatorComponent(index, info) {\n    info = info || this._subExtractor(index);\n    if (!info) {\n      return null;\n    }\n    var ItemSeparatorComponent = info.section.ItemSeparatorComponent || this.props.ItemSeparatorComponent;\n    var SectionSeparatorComponent = this.props.SectionSeparatorComponent;\n\n    var isLastItemInList = index === this.state.childProps.getItemCount() - 1;\n    var isLastItemInSection = info.index === info.section.data.length - 1;\n    if (SectionSeparatorComponent && isLastItemInSection) {\n      return SectionSeparatorComponent;\n    }\n    if (ItemSeparatorComponent && !isLastItemInSection && !isLastItemInList) {\n      return ItemSeparatorComponent;\n    }\n    return null;\n  };\n\n  VirtualizedSectionList.prototype._computeState = function _computeState(props) {\n    var offset = props.ListHeaderComponent ? 1 : 0;\n    var stickyHeaderIndices = [];\n    var itemCount = props.sections.reduce(function (v, section) {\n      stickyHeaderIndices.push(v + offset);\n      return v + section.data.length + 2; // Add two for the section header and footer.\n    }, 0);\n\n    return {\n      childProps: Object.assign({}, props, {\n        renderItem: this._renderItem,\n        ItemSeparatorComponent: undefined, // Rendered with renderItem\n        data: props.sections,\n        getItemCount: function getItemCount() {\n          return itemCount;\n        },\n        getItem: getItem,\n        keyExtractor: this._keyExtractor,\n        onViewableItemsChanged: props.onViewableItemsChanged ? this._onViewableItemsChanged : undefined,\n        stickyHeaderIndices: props.stickySectionHeadersEnabled ? stickyHeaderIndices : undefined\n      })\n    };\n  };\n\n  function VirtualizedSectionList(props, context) {\n    _classCallCheck(this, VirtualizedSectionList);\n\n    var _this = _possibleConstructorReturn(this, _React$PureComponent.call(this, props, context));\n\n    _this._keyExtractor = function (item, index) {\n      var info = _this._subExtractor(index);\n      return info && info.key || String(index);\n    };\n\n    _this._convertViewable = function (viewable) {\n      invariant(viewable.index != null, 'Received a broken ViewToken');\n      var info = _this._subExtractor(viewable.index);\n      if (!info) {\n        return null;\n      }\n      var keyExtractor = info.section.keyExtractor || _this.props.keyExtractor;\n      return Object.assign({}, viewable, {\n        index: info.index,\n        /* $FlowFixMe(>=0.63.0 site=react_native_fb) This comment suppresses an\n         * error found when Flow v0.63 was deployed. To see the error delete this\n         * comment and run Flow. */\n        key: keyExtractor(viewable.item, info.index),\n        section: info.section\n      });\n    };\n\n    _this._onViewableItemsChanged = function (_ref) {\n      var viewableItems = _ref.viewableItems,\n          changed = _ref.changed;\n\n      if (_this.props.onViewableItemsChanged) {\n        _this.props.onViewableItemsChanged({\n          viewableItems: viewableItems.map(_this._convertViewable, _this).filter(Boolean),\n          changed: changed.map(_this._convertViewable, _this).filter(Boolean)\n        });\n      }\n    };\n\n    _this._renderItem = function (_ref2) {\n      var item = _ref2.item,\n          index = _ref2.index;\n\n      var info = _this._subExtractor(index);\n      if (!info) {\n        return null;\n      }\n      var infoIndex = info.index;\n      if (infoIndex == null) {\n        var _section2 = info.section;\n\n        if (info.header === true) {\n          var _renderSectionHeader = _this.props.renderSectionHeader;\n\n          return _renderSectionHeader ? _renderSectionHeader({ section: _section2 }) : null;\n        } else {\n          var _renderSectionFooter = _this.props.renderSectionFooter;\n\n          return _renderSectionFooter ? _renderSectionFooter({ section: _section2 }) : null;\n        }\n      } else {\n        var _renderItem = info.section.renderItem || _this.props.renderItem;\n        var _SeparatorComponent = _this._getSeparatorComponent(index, info);\n        invariant(_renderItem, 'no renderItem!');\n        return React.createElement(ItemWithSeparator, {\n          SeparatorComponent: _SeparatorComponent,\n          LeadingSeparatorComponent: infoIndex === 0 ? _this.props.SectionSeparatorComponent : undefined,\n          cellKey: info.key,\n          index: infoIndex,\n          item: item,\n          leadingItem: info.leadingItem,\n          leadingSection: info.leadingSection,\n          onUpdateSeparator: _this._onUpdateSeparator,\n          prevCellKey: (_this._subExtractor(index - 1) || {}).key,\n          ref: function ref(_ref3) {\n            _this._cellRefs[info.key] = _ref3;\n          },\n          renderItem: _renderItem,\n          section: info.section,\n          trailingItem: info.trailingItem,\n          trailingSection: info.trailingSection\n        });\n      }\n    };\n\n    _this._onUpdateSeparator = function (key, newProps) {\n      var ref = _this._cellRefs[key];\n      ref && ref.updateSeparatorProps(newProps);\n    };\n\n    _this._cellRefs = {};\n\n    _this._captureRef = function (ref) {\n      /* $FlowFixMe(>=0.53.0 site=react_native_fb,react_native_oss) This comment\n       * suppresses an error when upgrading Flow's support for React. To see the\n       * error delete this comment and run Flow. */\n      _this._listRef = ref;\n    };\n\n    _this.state = _this._computeState(props);\n    return _this;\n  }\n\n  VirtualizedSectionList.prototype.UNSAFE_componentWillReceiveProps = function UNSAFE_componentWillReceiveProps(nextProps) {\n    this.setState(this._computeState(nextProps));\n  };\n\n  VirtualizedSectionList.prototype.render = function render() {\n    return React.createElement(VirtualizedList, _extends({}, this.state.childProps, { ref: this._captureRef }));\n  };\n\n  return VirtualizedSectionList;\n}(React.PureComponent);\n\nVirtualizedSectionList.defaultProps = Object.assign({}, VirtualizedList.defaultProps, {\n  data: []\n});\n\nvar ItemWithSeparator = function (_React$Component) {\n  _inherits(ItemWithSeparator, _React$Component);\n\n  function ItemWithSeparator() {\n    var _temp, _this2, _ret;\n\n    _classCallCheck(this, ItemWithSeparator);\n\n    for (var _len = arguments.length, args = Array(_len), _key2 = 0; _key2 < _len; _key2++) {\n      args[_key2] = arguments[_key2];\n    }\n\n    return _ret = (_temp = (_this2 = _possibleConstructorReturn(this, _React$Component.call.apply(_React$Component, [this].concat(args))), _this2), _this2.state = {\n      separatorProps: {\n        highlighted: false,\n        leadingItem: _this2.props.item,\n        leadingSection: _this2.props.leadingSection,\n        section: _this2.props.section,\n        trailingItem: _this2.props.trailingItem,\n        trailingSection: _this2.props.trailingSection\n      },\n      leadingSeparatorProps: {\n        highlighted: false,\n        leadingItem: _this2.props.leadingItem,\n        leadingSection: _this2.props.leadingSection,\n        section: _this2.props.section,\n        trailingItem: _this2.props.item,\n        trailingSection: _this2.props.trailingSection\n      }\n    }, _this2._separators = {\n      highlight: function highlight() {\n        ['leading', 'trailing'].forEach(function (s) {\n          return _this2._separators.updateProps(s, { highlighted: true });\n        });\n      },\n      unhighlight: function unhighlight() {\n        ['leading', 'trailing'].forEach(function (s) {\n          return _this2._separators.updateProps(s, { highlighted: false });\n        });\n      },\n      updateProps: function updateProps(select, newProps) {\n        var _this2$props = _this2.props,\n            LeadingSeparatorComponent = _this2$props.LeadingSeparatorComponent,\n            cellKey = _this2$props.cellKey,\n            prevCellKey = _this2$props.prevCellKey;\n\n        if (select === 'leading' && LeadingSeparatorComponent) {\n          _this2.setState(function (state) {\n            return {\n              leadingSeparatorProps: Object.assign({}, state.leadingSeparatorProps, newProps)\n            };\n          });\n        } else {\n          _this2.props.onUpdateSeparator(select === 'leading' && prevCellKey || cellKey, newProps);\n        }\n      }\n    }, _temp), _possibleConstructorReturn(_this2, _ret);\n  }\n\n  ItemWithSeparator.prototype.UNSAFE_componentWillReceiveProps = function UNSAFE_componentWillReceiveProps(props) {\n    var _this3 = this;\n\n    this.setState(function (state) {\n      return {\n        separatorProps: Object.assign({}, _this3.state.separatorProps, {\n          leadingItem: props.item,\n          leadingSection: props.leadingSection,\n          section: props.section,\n          trailingItem: props.trailingItem,\n          trailingSection: props.trailingSection\n        }),\n        leadingSeparatorProps: Object.assign({}, _this3.state.leadingSeparatorProps, {\n          leadingItem: props.leadingItem,\n          leadingSection: props.leadingSection,\n          section: props.section,\n          trailingItem: props.item,\n          trailingSection: props.trailingSection\n        })\n      };\n    });\n  };\n\n  ItemWithSeparator.prototype.updateSeparatorProps = function updateSeparatorProps(newProps) {\n    this.setState(function (state) {\n      return {\n        separatorProps: Object.assign({}, state.separatorProps, newProps)\n      };\n    });\n  };\n\n  ItemWithSeparator.prototype.render = function render() {\n    var _props = this.props,\n        LeadingSeparatorComponent = _props.LeadingSeparatorComponent,\n        SeparatorComponent = _props.SeparatorComponent,\n        item = _props.item,\n        index = _props.index,\n        section = _props.section;\n\n    var element = this.props.renderItem({\n      item: item,\n      index: index,\n      section: section,\n      separators: this._separators\n    });\n    var leadingSeparator = LeadingSeparatorComponent && React.createElement(LeadingSeparatorComponent, this.state.leadingSeparatorProps);\n    var separator = SeparatorComponent && React.createElement(SeparatorComponent, this.state.separatorProps);\n    return leadingSeparator || separator ? React.createElement(\n      View,\n      null,\n      leadingSeparator,\n      element,\n      separator\n    ) : element;\n  };\n\n  return ItemWithSeparator;\n}(React.Component);\n\nfunction getItem(sections, index) {\n  if (!sections) {\n    return null;\n  }\n  var itemIdx = index - 1;\n  for (var ii = 0; ii < sections.length; ii++) {\n    if (itemIdx === -1 || itemIdx === sections[ii].data.length) {\n      // We intend for there to be overflow by one on both ends of the list.\n      // This will be for headers and footers. When returning a header or footer\n      // item the section itself is the item.\n      return sections[ii];\n    } else if (itemIdx < sections[ii].data.length) {\n      // If we are in the bounds of the list's data then return the item.\n      return sections[ii].data[itemIdx];\n    } else {\n      itemIdx -= sections[ii].data.length + 2; // Add two for the header and footer\n    }\n  }\n  return null;\n}\n\nexport default VirtualizedSectionList;"]},"metadata":{},"sourceType":"module"}