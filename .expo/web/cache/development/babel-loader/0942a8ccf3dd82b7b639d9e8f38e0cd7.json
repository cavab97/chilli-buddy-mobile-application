{"ast":null,"code":"import _defineProperty from \"@babel/runtime/helpers/defineProperty\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nimport firebase from 'firebase';\nimport { functions } from \"firebase\";\nimport \"firebase/functions\";\nimport { api } from \"../../../settings\";\nimport { isMomentObj, momentObjToUnixTime } from \"../../../utils/common\";\nvar firebaseConfig = api.firebaseConfig;\nvar firebaseApp = !firebase.apps.length && firebase.initializeApp(firebaseConfig);\nexport function callApi(_ref) {\n  var _ref$apiName = _ref.apiName,\n      apiName = _ref$apiName === void 0 ? null : _ref$apiName,\n      _ref$data = _ref.data,\n      data = _ref$data === void 0 ? {} : _ref$data;\n  return new Promise(function (resolve, reject) {\n    var api = functions().httpsCallable(apiName);\n    api(data).then(function (result) {\n      var data = result.data;\n      if (data && data.code) throw data;\n      resolve(result.data);\n    }).catch(function (error) {\n      reject(error);\n    });\n  });\n}\nexport function processData(_ref2) {\n  var data = _ref2.data;\n  var processedData = {};\n  Object.keys(data).forEach(function (field) {\n    if (isMomentObj(data[field])) return processedData = _objectSpread(_objectSpread({}, processedData), {}, _defineProperty({}, field, momentObjToUnixTime(data[field])));\n    return processedData = _objectSpread(_objectSpread({}, processedData), {}, _defineProperty({}, field, data[field]));\n  });\n  return processedData;\n}","map":{"version":3,"sources":["C:/Gogogain/Gogogain - User/src/marslab-library-react-native/utils/helper/backend/cloudFunction.js"],"names":["firebase","functions","api","isMomentObj","momentObjToUnixTime","firebaseConfig","firebaseApp","apps","length","initializeApp","callApi","apiName","data","Promise","resolve","reject","httpsCallable","then","result","code","catch","error","processData","processedData","Object","keys","forEach","field"],"mappings":";;;;;;AAAA,OAAOA,QAAP,MAAqB,UAArB;AACA,SAASC,SAAT,QAA0B,UAA1B;AACA,OAAO,oBAAP;AACA,SAASC,GAAT;AAEA,SAASC,WAAT,EAAuBC,mBAAvB;IAEQC,c,GAAmBH,G,CAAnBG,c;AACR,IAAMC,WAAW,GAAG,CAACN,QAAQ,CAACO,IAAT,CAAcC,MAAf,IAAyBR,QAAQ,CAACS,aAAT,CAAuBJ,cAAvB,CAA7C;AAGA,OAAO,SAASK,OAAT,OAAgD;AAAA,0BAA7BC,OAA6B;AAAA,MAA7BA,OAA6B,6BAAnB,IAAmB;AAAA,uBAAbC,IAAa;AAAA,MAAbA,IAAa,0BAAN,EAAM;AACrD,SAAO,IAAIC,OAAJ,CAAY,UAACC,OAAD,EAAUC,MAAV,EAAqB;AACtC,QAAMb,GAAG,GAAGD,SAAS,GAAGe,aAAZ,CAA0BL,OAA1B,CAAZ;AACAT,IAAAA,GAAG,CAACU,IAAD,CAAH,CACGK,IADH,CACQ,UAACC,MAAD,EAAY;AAAA,UACRN,IADQ,GACCM,MADD,CACRN,IADQ;AAEhB,UAAGA,IAAI,IAAIA,IAAI,CAACO,IAAhB,EACE,MAAMP,IAAN;AACFE,MAAAA,OAAO,CAACI,MAAM,CAACN,IAAR,CAAP;AACD,KANH,EAOGQ,KAPH,CAOS,UAAAC,KAAK,EAAI;AACdN,MAAAA,MAAM,CAACM,KAAD,CAAN;AACD,KATH;AAUD,GAZM,CAAP;AAaD;AAED,OAAO,SAASC,WAAT,QAA4B;AAAA,MAANV,IAAM,SAANA,IAAM;AACjC,MAAIW,aAAa,GAAG,EAApB;AAEAC,EAAAA,MAAM,CAACC,IAAP,CAAYb,IAAZ,EAAkBc,OAAlB,CAA0B,UAACC,KAAD,EAAS;AACjC,QAAGxB,WAAW,CAACS,IAAI,CAACe,KAAD,CAAL,CAAd,EACE,OAAOJ,aAAa,mCAAQA,aAAR,2BAAuBI,KAAvB,EAA+BvB,mBAAmB,CAACQ,IAAI,CAACe,KAAD,CAAL,CAAlD,EAApB;AACF,WAAOJ,aAAa,mCAAQA,aAAR,2BAAuBI,KAAvB,EAA+Bf,IAAI,CAACe,KAAD,CAAnC,EAApB;AACD,GAJD;AAMA,SAAOJ,aAAP;AACD","sourcesContent":["import firebase from 'firebase';\r\nimport { functions } from \"firebase\";\r\nimport \"firebase/functions\"\r\nimport { api } from \"../../../settings\";\r\n\r\nimport { isMomentObj , momentObjToUnixTime } from '../../../utils/common';\r\n\r\nconst { firebaseConfig } = api;\r\nconst firebaseApp = !firebase.apps.length && firebase.initializeApp(firebaseConfig);\r\n\r\n\r\nexport function callApi({ apiName = null, data = {} }) {\r\n  return new Promise((resolve, reject) => {\r\n    const api = functions().httpsCallable(apiName);\r\n    api(data)\r\n      .then((result) => {\r\n        const { data } = result\r\n        if(data && data.code)\r\n          throw data\r\n        resolve(result.data);\r\n      })\r\n      .catch(error => {\r\n        reject(error);\r\n      });\r\n  });\r\n}\r\n\r\nexport function processData({data}){\r\n  let processedData = {}\r\n  \r\n  Object.keys(data).forEach((field)=>{\r\n    if(isMomentObj(data[field]))\r\n      return processedData = { ...processedData,[field]: momentObjToUnixTime(data[field])} \r\n    return processedData = { ...processedData,[field]: data[field]} \r\n  })\r\n\r\n  return processedData\r\n}\r\n"]},"metadata":{},"sourceType":"module"}