{"ast":null,"code":"import _defineProperty from \"@babel/runtime/helpers/defineProperty\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nimport actions from \"./actions\";\nvar initState = {\n  isLoggedIn: false,\n  loading: false,\n  error: false,\n  forgotPasswordLoading: false,\n  forgotPasswordMessage: false,\n  forgotPasswordError: false,\n  loginDetails: {\n    phoneNumber: null,\n    tac: '',\n    confirmationResult: null,\n    email: null,\n    password: null,\n    confirmPassword: null\n  },\n  user: {\n    user: {\n      uid: null,\n      displayName: null,\n      photoURL: null,\n      phoneNumber: null,\n      email: null\n    },\n    idTokenResult: {\n      token: null,\n      expirationTime: null,\n      authTime: null,\n      issuedAtTime: null,\n      signInProvider: null,\n      claims: {\n        name: null,\n        role: {\n          director: false,\n          executive: false,\n          admin: false,\n          user: true\n        },\n        accessLevel: 50,\n        plan: null\n      },\n      user_id: null,\n      email: null,\n      email_verified: false\n    }\n  }\n};\nexport default (function () {\n  var state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : initState;\n\n  var _ref = arguments.length > 1 ? arguments[1] : undefined,\n      type = _ref.type,\n      payload = _ref.payload;\n\n  switch (type) {\n    case actions.CHECK_AUTHORIZATION:\n      return _objectSpread({}, state, {\n        loading: true,\n        error: false\n      });\n\n    case actions.LOGIN_REQUEST:\n      return _objectSpread({}, state, {\n        loading: true,\n        error: false,\n        loginDetails: _objectSpread({}, state.loginDetails, {\n          confirmationResult: initState.loginDetails.confirmationResult\n        })\n      });\n\n    case actions.LOGIN_VERIFICATION_SUCCESS:\n      return _objectSpread({}, state, {\n        loading: false,\n        error: false,\n        loginDetails: _objectSpread({}, state.loginDetails, {\n          confirmationResult: payload.data\n        })\n      });\n\n    case actions.LOGIN_TAC_CONFIRMATION:\n      return _objectSpread({}, state, {\n        loading: true,\n        error: false\n      });\n\n    case actions.LOGIN_SUCCESS:\n      console.log(\"Signin\");\n      return _objectSpread({}, state, {\n        loading: false,\n        isLoggedIn: true,\n        user: payload.user\n      });\n\n    case actions.LOGIN_ERROR:\n      return _objectSpread({}, state, {\n        loading: false,\n        isLoggedIn: false,\n        user: {},\n        error: payload.error\n      });\n\n    case actions.LOGOUT:\n      console.log(\"SignOut\");\n      return initState;\n\n    case actions.UPDATE:\n      return _objectSpread({}, state, {\n        loginDetails: payload.data\n      });\n\n    default:\n      return state;\n  }\n});","map":{"version":3,"sources":["C:/Users/limwe/Documents/application/gogogain-app/gogogain-user/src/marslab-library-react-native/redux/auth/reducer.js"],"names":["actions","initState","isLoggedIn","loading","error","forgotPasswordLoading","forgotPasswordMessage","forgotPasswordError","loginDetails","phoneNumber","tac","confirmationResult","email","password","confirmPassword","user","uid","displayName","photoURL","idTokenResult","token","expirationTime","authTime","issuedAtTime","signInProvider","claims","name","role","director","executive","admin","accessLevel","plan","user_id","email_verified","state","type","payload","CHECK_AUTHORIZATION","LOGIN_REQUEST","LOGIN_VERIFICATION_SUCCESS","data","LOGIN_TAC_CONFIRMATION","LOGIN_SUCCESS","console","log","LOGIN_ERROR","LOGOUT","UPDATE"],"mappings":"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","sourcesContent":["import actions from \"./actions\";\r\n\r\nconst initState = {\r\n  isLoggedIn: false,\r\n  loading: false,\r\n  error: false,\r\n  forgotPasswordLoading: false,\r\n  forgotPasswordMessage: false,\r\n  forgotPasswordError: false,\r\n  loginDetails: {\r\n    phoneNumber: null,\r\n    tac: '',\r\n    confirmationResult: null,\r\n    email: null,\r\n    password: null,\r\n    confirmPassword: null\r\n  },\r\n  user: {\r\n    user: {\r\n      uid: null,\r\n      displayName: null,\r\n      photoURL: null,\r\n      phoneNumber: null,\r\n      email: null\r\n    },\r\n    idTokenResult: {\r\n      token: null,\r\n      expirationTime: null,\r\n      authTime: null,\r\n      issuedAtTime: null,\r\n      signInProvider: null,\r\n      claims: {\r\n        name: null,\r\n        role: {\r\n          director: false,\r\n          executive: false,\r\n          admin: false,\r\n          user: true\r\n        },\r\n        accessLevel: 50,\r\n        plan: null\r\n      },\r\n      user_id: null,\r\n      email: null,\r\n      email_verified: false\r\n    }\r\n  }\r\n};\r\n\r\nexport default (state = initState, { type, payload }) => {\r\n  switch (type) {\r\n    case actions.CHECK_AUTHORIZATION:\r\n      return {\r\n        ...state,\r\n        loading: true,\r\n        error: false\r\n      };\r\n    case actions.LOGIN_REQUEST:\r\n      return {\r\n        ...state,\r\n        loading: true,\r\n        error: false,\r\n        loginDetails: {\r\n          ...state.loginDetails,\r\n          confirmationResult: initState.loginDetails.confirmationResult\r\n        }\r\n      };\r\n    case actions.LOGIN_VERIFICATION_SUCCESS:\r\n      return {\r\n        ...state,\r\n        loading: false,\r\n        error: false,\r\n        loginDetails: {\r\n          ...state.loginDetails,\r\n          confirmationResult: payload.data\r\n        }\r\n      };\r\n    case actions.LOGIN_TAC_CONFIRMATION:\r\n      return {\r\n        ...state,\r\n        loading: true,\r\n        error: false,\r\n      };\r\n    case actions.LOGIN_SUCCESS:\r\n      console.log(\"Signin\");\r\n      //console.log(payload.user);\r\n      return {\r\n        ...state,\r\n        loading: false,\r\n        isLoggedIn: true,\r\n        user: payload.user\r\n      };\r\n    case actions.LOGIN_ERROR:\r\n      return {\r\n        ...state,\r\n        loading: false,\r\n        isLoggedIn: false,\r\n        user: {},\r\n        error: payload.error\r\n      };\r\n\r\n    case actions.LOGOUT:\r\n      console.log(\"SignOut\");\r\n      return initState;\r\n\r\n    case actions.UPDATE:\r\n      return {\r\n        ...state,\r\n        loginDetails: payload.data\r\n      };\r\n\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n"]},"metadata":{},"sourceType":"module"}