{"ast":null,"code":"import _defineProperty from \"@babel/runtime/helpers/defineProperty\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nimport actions from \"./actions\";\nimport Alert from \"react-native-web/dist/exports/Alert\";\nvar initState = {\n  isLoggedIn: false,\n  loading: false,\n  error: false,\n  forgotPasswordLoading: false,\n  forgotPasswordMessage: false,\n  forgotPasswordError: false,\n  modalVisible: false,\n  loginDetails: {\n    phoneNumber: null,\n    tac: \"\",\n    confirmationResult: {\n      a: function a() {},\n      verificationId: null\n    },\n    recaptchaToken: null,\n    email: null,\n    password: null,\n    confirmPassword: null\n  },\n  user: {\n    uid: null,\n    displayName: null,\n    photoURL: null,\n    phoneNumber: null,\n    email: null\n  }\n};\nexport default (function () {\n  var state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : initState;\n\n  var _ref = arguments.length > 1 ? arguments[1] : undefined,\n      type = _ref.type,\n      payload = _ref.payload;\n\n  switch (type) {\n    case actions.CHECK_AUTHORIZATION:\n      return _objectSpread(_objectSpread({}, state), {}, {\n        loading: true,\n        error: false\n      });\n\n    case actions.LOGIN_REQUEST:\n      return _objectSpread(_objectSpread({}, state), {}, {\n        loading: true,\n        error: false,\n        loginDetails: _objectSpread(_objectSpread({}, state.loginDetails), {}, {\n          confirmationResult: initState.loginDetails.confirmationResult\n        })\n      });\n\n    case actions.LOGIN_VERIFICATION_SUCCESS:\n      return _objectSpread(_objectSpread({}, state), {}, {\n        loading: false,\n        error: false,\n        loginDetails: _objectSpread(_objectSpread({}, state.loginDetails), {}, {\n          confirmationResult: payload.data\n        })\n      });\n\n    case actions.LOGIN_TAC_CONFIRMATION:\n      return _objectSpread(_objectSpread({}, state), {}, {\n        loading: true,\n        error: false\n      });\n\n    case actions.LOGIN_SUCCESS:\n      console.log(\"Signin\");\n      return _objectSpread(_objectSpread({}, state), {}, {\n        loading: false,\n        isLoggedIn: true,\n        user: payload.user\n      });\n\n    case actions.LOGIN_ERROR:\n      return _objectSpread(_objectSpread({}, state), {}, {\n        loading: false,\n        isLoggedIn: false,\n        user: {},\n        error: payload.error\n      });\n\n    case actions.LOGOUT:\n      console.log(\"SignOut\");\n      return initState;\n\n    case actions.MODAL_CONTROL:\n      return _objectSpread(_objectSpread({}, state), {}, {\n        modalVisible: !state.modalVisible\n      });\n\n    case actions.UPDATE:\n      return _objectSpread(_objectSpread({}, state), {}, {\n        loginDetails: payload.data\n      });\n\n    case actions.BASIC_INFO_UPDATA:\n      var _payload$data = payload.data,\n          displayName = _payload$data.displayName,\n          photoURL = _payload$data.photoURL,\n          email = _payload$data.email;\n      return _objectSpread(_objectSpread({}, state), {}, {\n        user: _objectSpread(_objectSpread({}, state.user), {}, {\n          displayName: displayName,\n          photoURL: photoURL,\n          email: email\n        })\n      });\n\n    default:\n      return state;\n  }\n});","map":{"version":3,"sources":["C:/Gogogain/Gogogain - User/src/marslab-library-react-native/redux/auth/reducer.js"],"names":["actions","initState","isLoggedIn","loading","error","forgotPasswordLoading","forgotPasswordMessage","forgotPasswordError","modalVisible","loginDetails","phoneNumber","tac","confirmationResult","a","verificationId","recaptchaToken","email","password","confirmPassword","user","uid","displayName","photoURL","state","type","payload","CHECK_AUTHORIZATION","LOGIN_REQUEST","LOGIN_VERIFICATION_SUCCESS","data","LOGIN_TAC_CONFIRMATION","LOGIN_SUCCESS","console","log","LOGIN_ERROR","LOGOUT","MODAL_CONTROL","UPDATE","BASIC_INFO_UPDATA"],"mappings":"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","sourcesContent":["import actions from \"./actions\";\r\nimport {Alert} from \"react-native\"\r\n\r\nconst initState = {\r\n  isLoggedIn: false,\r\n  loading: false,\r\n  error: false,\r\n  forgotPasswordLoading: false,\r\n  forgotPasswordMessage: false,\r\n  forgotPasswordError: false,\r\n  modalVisible: false,\r\n  loginDetails: {\r\n    phoneNumber: null,\r\n    tac: \"\",\r\n    confirmationResult: {\r\n      a: () => {},\r\n      verificationId: null,\r\n    },\r\n    recaptchaToken: null,\r\n    email: null,\r\n    password: null,\r\n    confirmPassword: null,\r\n  },\r\n  user: {\r\n    uid: null,\r\n    displayName: null,\r\n    photoURL: null,\r\n    phoneNumber: null,\r\n    email: null,\r\n  },\r\n};\r\n\r\nexport default (state = initState, { type, payload }) => {\r\n  switch (type) {\r\n    case actions.CHECK_AUTHORIZATION:\r\n      return {\r\n        ...state,\r\n        loading: true,\r\n        error: false,\r\n      };\r\n    case actions.LOGIN_REQUEST:\r\n      return {\r\n        ...state,\r\n        loading: true,\r\n        error: false,\r\n        loginDetails: {\r\n          ...state.loginDetails,\r\n          confirmationResult: initState.loginDetails.confirmationResult,\r\n        },\r\n      };\r\n    case actions.LOGIN_VERIFICATION_SUCCESS:\r\n      return {\r\n        ...state,\r\n        loading: false,\r\n        error: false,\r\n        loginDetails: {\r\n          ...state.loginDetails,\r\n          confirmationResult: payload.data,\r\n        },\r\n      };\r\n    case actions.LOGIN_TAC_CONFIRMATION:\r\n      return {\r\n        ...state,\r\n        loading: true,\r\n        error: false,\r\n      };\r\n    case actions.LOGIN_SUCCESS:\r\n      console.log(\"Signin\");\r\n      // console.log(payload.user);\r\n      return {\r\n        ...state,\r\n        loading: false,\r\n        isLoggedIn: true,\r\n        user: payload.user,\r\n      };\r\n    case actions.LOGIN_ERROR:\r\n      return {\r\n        ...state,\r\n        loading: false,\r\n        isLoggedIn: false,\r\n        user: {},\r\n        error: payload.error,\r\n      };\r\n\r\n    case actions.LOGOUT:\r\n      console.log(\"SignOut\");\r\n      return initState;\r\n\r\n    case actions.MODAL_CONTROL:\r\n      return {\r\n        ...state,\r\n        modalVisible: !state.modalVisible,\r\n      };\r\n\r\n    case actions.UPDATE:\r\n      return {\r\n        ...state,\r\n        loginDetails: payload.data,\r\n      };\r\n\r\n    case actions.BASIC_INFO_UPDATA:\r\n      const { displayName, photoURL, email } = payload.data\r\n      return {\r\n        ...state,\r\n        user: {...state.user, displayName, photoURL, email},\r\n      };\r\n\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n"]},"metadata":{},"sourceType":"module"}